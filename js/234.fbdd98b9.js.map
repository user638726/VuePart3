{"version":3,"file":"js/234.fbdd98b9.js","mappings":"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","sources":["webpack://newproject2/./src/views/UserCart.vue","webpack://newproject2/./src/views/UserCart.vue?698a"],"sourcesContent":["<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <div class=\"container\">\r\n    <div class=\"row mt-4\">\r\n      \r\n      <!-- 購物車列表 -->\r\n       <div class=\"col-md-5\">\r\n        <div class=\"sticky-top\">\r\n          <table class=\"table align-middle\">\r\n            <thead>\r\n              <tr>\r\n                <th></th>\r\n                <th>品名</th>\r\n                <th style=\"width: 110px\">數量</th>\r\n                <th>單價</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n            <template v-if=\"cart.carts\">\r\n              <tr v-for=\"item in cart.carts\" :key=\"item.id\">\r\n                <td>\r\n                  <button type=\"button\" class=\"btn btn-outline-danger btn-sm\"\r\n                          :disabled=\"status.loadingItem === item.id\"\r\n                          @click=\"removeCartItem(item.id)\">\r\n                    <i class=\"bi bi-x\"></i>\r\n                  </button>\r\n                </td>\r\n                <td>\r\n                  {{ item.product.title }}\r\n                  <div class=\"text-success\" v-if=\"item.coupon\">\r\n                    已套用優惠券\r\n                  </div>\r\n                </td>\r\n                <td>\r\n                  <div class=\"input-group input-group-sm\">\r\n                    <input type=\"number\" class=\"form-control\"\r\n                          min=\"1\"\r\n                          :disabled=\"item.id === status.loadingItem\"\r\n                          @change=\"updateCart(item)\"\r\n                          v-model.number=\"item.qty\">\r\n                    <div class=\"input-group-text\">/ {{ item.product.unit }}</div>\r\n                  </div>\r\n                </td>\r\n                <td class=\"text-end\">\r\n                  <small v-if=\"cart.final_total !== cart.total\" class=\"text-success\">折扣價：</small>\r\n                  {{ $filters.currency(item.final_total) }}\r\n                </td>\r\n              </tr>\r\n            </template>\r\n            </tbody>\r\n            <tfoot>\r\n            <tr>\r\n              <td colspan=\"3\" class=\"text-end\">總計</td>\r\n              <td class=\"text-end\">{{ $filters.currency(cart.total) }}</td>\r\n            </tr>\r\n            <tr v-if=\"cart.final_total !== cart.total\">\r\n              <td colspan=\"3\" class=\"text-end text-success\">折扣價</td>\r\n              <td class=\"text-end text-success\">{{ $filters.currency(cart.final_total) }}</td>\r\n            </tr>\r\n            </tfoot>\r\n          </table>\r\n          <div class=\"input-group mb-3 input-group-sm\">\r\n            <input type=\"text\" class=\"form-control\" v-model=\"coupon_code\" placeholder=\"請輸入優惠碼:GOATM，就可以享有50%折扣優惠\">\r\n            <div class=\"input-group-append\">\r\n              <button class=\"btn btn-outline-secondary\" type=\"button\" @click=\"addCouponCode\">\r\n                套用優惠碼\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n     <div class=\"my-5 row justify-content-center\">\r\n      <Form class=\"col-md-6\" v-slot=\"{ errors }\"\r\n            @submit=\"createOrder\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"email\" class=\"form-label\">Email</label>\r\n          <Field id=\"email\" name=\"email\" type=\"email\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['email'] }\"\r\n                   placeholder=\"請輸入 Email\" rules=\"email|required\"\r\n                   v-model=\"form.user.email\"></Field>\r\n          <ErrorMessage name=\"email\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"name\" class=\"form-label\">收件人姓名</label>\r\n          <Field id=\"name\" name=\"name\" type=\"text\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['name'] }\"\r\n                   placeholder=\"請輸入姓名\" rules=\"required\"\r\n                   v-model=\"form.user.name\"></Field>\r\n          <ErrorMessage name=\"name\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"tel\" class=\"form-label\">收件人電話</label>\r\n          <Field id=\"tel\" name=\"tel\" type=\"tel\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['tel'] }\"\r\n                   placeholder=\"請輸入電話\" rules=\"required\"\r\n                   v-model=\"form.user.tel\"></Field>\r\n          <ErrorMessage name=\"tel\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"address\" class=\"form-label\">收件人地址</label>\r\n          <Field id=\"address\" name=\"address\" type=\"text\" class=\"form-control\"\r\n                   :class=\"{ 'is-invalid': errors['address'] }\"\r\n                   placeholder=\"請輸入地址\" rules=\"required\"\r\n                   v-model=\"form.user.address\"></Field>\r\n          <ErrorMessage name=\"address\" class=\"invalid-feedback\"></ErrorMessage>\r\n        </div>\r\n\r\n        <div class=\"mb-3\">\r\n          <label for=\"message\" class=\"form-label\">留言</label>\r\n          <textarea name=\"\" id=\"message\" class=\"form-control\" cols=\"30\" rows=\"10\"\r\n                    v-model=\"form.message\"></textarea>\r\n        </div>\r\n        <div class=\"text-end\">\r\n          <button class=\"btn btn-dark\">送出訂單</button>\r\n        </div>\r\n      </Form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport emitter from '@/methods/emitter';\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      product: {},\r\n      isLoading: false, \r\n      status: {\r\n        loadingItem: '',\r\n      },\r\n       form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: '',\r\n        },\r\n        message: '',\r\n      },\r\n      cart:{},\r\n      coupon_code:'',\r\n    };\r\n  },\r\n  methods: {\r\n    getProducts() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\r\n      this.isLoading = true;\r\n      this.$http.get(url).then((response) => {\r\n        this.products = response.data.products;\r\n        console.log('products:', response);\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    getProduct(id) {\r\n      this.$router.push(`/user/product/${id}`);\r\n    },\r\n    addCart(id){\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.status.loadingItem = id\r\n      const cart ={\r\n       product_id:id\r\n      ,qty:1,};\r\n      this.$http.post(url,{data:cart})\r\n      .then((res)=>{\r\n         this.status.loadingItem='';\r\n         console.log(res)\r\n         emitter.emit('update-cart');\r\n         this.getCart();\r\n      });\r\n    },\r\n    getCart(){\r\n       const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n       this.isLoading = true;\r\n       this.$http.get(url).then((res)=>{\r\n        console.log(res);\r\n        this.cart = res.data.data;\r\n        this.isLoading = false;\r\n       });\r\n    },\r\n    updateCart(item){\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${item.id}`;\r\n      this.isLoading = true;\r\n      this.status.loadingItem = item.id\r\n      const cart = {\r\n        product_id:item.product.id,\r\n        qty:item.qty,\r\n      };\r\n      this.$http.put(url,{data:cart}).then((res)=>{\r\n            console.log(res);\r\n            emitter.emit('update-cart');\r\n            this.status.loadingItem = '';\r\n         this.getCart();   \r\n      });\r\n    },\r\n    removeCartItem(id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\r\n      this.status.loadingItem = id;\r\n      this.$http.delete(url).then((res) => {\r\n       console.log('已刪除購物車商品:', res);\r\n       this.status.loadingItem = '';\r\n       emitter.emit('update-cart');\r\n       this.getCart(); // 重新取得購物車資料\r\n     });\r\n    },\r\n    addCouponCode(){\r\n    const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`;\r\n    const coupon = {\r\n      code:this.coupon_code,\r\n    };\r\n    this.$http.post(url,{data:coupon})\r\n      .then((res)=>{\r\n        if (!res.data.success) {\r\n        alert(res.data.message || '優惠碼無效或已過期');\r\n        return;\r\n      }\r\n         console.log(res)\r\n         this.getCart();\r\n      }).catch((error)=>{\r\n     const errorMessage = error?.response?.data?.message || '優惠碼無效或已過期';\r\n     alert(errorMessage);\r\n  });\r\n    },\r\n    createOrder(){\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`;\r\n      const order = this.form;\r\n      this.$http.post(url,{data:order})\r\n      .then((res)=>{\r\n            console.log(res);\r\n            emitter.emit('update-cart');\r\n            const orderId = res.data.orderId; // 從 API 回傳中取得 orderId\r\n            this.$router.push(`/user/checkout/${orderId}`);\r\n            \r\n      });\r\n    },\r\n  },\r\n  created() {\r\n    this.getProducts();\r\n    this.getCart();\r\n  },\r\n};\r\n</script>","import { render } from \"./UserCart.vue?vue&type=template&id=5cf98408\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createVNode","_component_Loading","active","$data","isLoading","_createElementVNode","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","style","cart","carts","_createElementBlock","_Fragment","key","_renderList","item","id","type","disabled","status","loadingItem","onClick","$event","$options","removeCartItem","product","title","coupon","_hoisted_7","_hoisted_8","min","onChange","updateCart","qty","number","_hoisted_10","_toDisplayString","unit","_hoisted_11","final_total","total","_hoisted_12","_ctx","$filters","currency","colspan","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","coupon_code","placeholder","_hoisted_17","_cache","args","addCouponCode","_hoisted_18","_component_Form","onSubmit","createOrder","errors","_hoisted_19","for","_component_Field","name","_normalizeClass","rules","form","user","email","_component_ErrorMessage","_hoisted_20","_hoisted_21","tel","_hoisted_22","address","_hoisted_23","cols","rows","message","data","products","methods","getProducts","url","this","$http","get","then","response","console","log","getProduct","$router","push","addCart","product_id","post","res","emitter","emit","getCart","put","delete","code","success","alert","catch","error","errorMessage","order","orderId","created","__exports__","render"],"sourceRoot":""}