{"version":3,"file":"js/694.4bf137f3.js","mappings":"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","sources":["webpack://newproject2/./src/views/Home.vue","webpack://newproject2/./src/components/TitleList.vue","webpack://newproject2/./src/components/TitleList.vue?b11b","webpack://newproject2/./src/components/ProductCarousel.vue","webpack://newproject2/./node_modules/vue3-carousel/dist/carousel.mjs","webpack://newproject2/./src/components/ProductCarousel.vue?377f","webpack://newproject2/./src/views/Home.vue?9051"],"sourcesContent":["<script>\r\nimport TitleList from \"@/components/TitleList.vue\";\r\nimport ProductCarousel from \"@/components/ProductCarousel.vue\";\r\nimport emitter from \"@/methods/emitter\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      products: [],\r\n      isLoading: false,\r\n      cart: [],\r\n      status: {\r\n        loadingItem: \"\",\r\n      },\r\n      showCartPreview: false,\r\n    };\r\n  },\r\n  computed: {\r\n    cartQty() {\r\n      return this.cart.reduce((total, item) => total + item.qty, 0);\r\n    },\r\n    cartItems() {\r\n      return this.cart;\r\n    },\r\n    cartIconEvents() {\r\n      return {\r\n        mouseenter: () => {\r\n          this.showCartPreview = true;\r\n        },\r\n        mouseleave: () => {\r\n          this.showCartPreview = false;\r\n        },\r\n      };\r\n    },\r\n  },\r\n  components: {\r\n    TitleList,\r\n    ProductCarousel,\r\n  },\r\n  methods: {\r\n    getProducts() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`;\r\n      this.isLoading = true;\r\n      this.$http.get(url).then((response) => {\r\n        this.products = response.data.products;\r\n        this.isLoading = false;\r\n      });\r\n    },\r\n    getProduct(id) {\r\n      this.$router.push(`/user/product/${id}`);\r\n    },\r\n    animateToCart(event) {\r\n      const productCard = event.target.closest(\".card\");\r\n      const productImg = productCard?.querySelector(\".card-img-top\");\r\n      const cartIcon = this.$refs.cartIcon;\r\n\r\n      if (!productImg || !cartIcon) {\r\n        console.warn(\"動畫失敗：無法找到圖片或購物車圖示\");\r\n        return;\r\n      }\r\n\r\n      const imgClone = productImg.cloneNode(true);\r\n      const imgRect = productImg.getBoundingClientRect();\r\n      const cartRect = cartIcon.getBoundingClientRect();\r\n\r\n      imgClone.style.position = \"fixed\";\r\n      imgClone.style.left = `${imgRect.left}px`;\r\n      imgClone.style.top = `${imgRect.top}px`;\r\n      imgClone.style.width = `${imgRect.width}px`;\r\n      imgClone.style.height = `${imgRect.height}px`;\r\n      imgClone.style.zIndex = 1000;\r\n      imgClone.style.transition = \"all 0.8s ease-in-out\";\r\n\r\n      document.body.appendChild(imgClone);\r\n\r\n      requestAnimationFrame(() => {\r\n        imgClone.style.left = `${cartRect.left}px`;\r\n        imgClone.style.top = `${cartRect.top}px`;\r\n        imgClone.style.width = \"0px\";\r\n        imgClone.style.height = \"0px\";\r\n        imgClone.style.opacity = \"0.5\";\r\n      });\r\n\r\n      imgClone.addEventListener(\"transitionend\", () => {\r\n        imgClone.remove();\r\n      });\r\n    },\r\n    addCart(id, event) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.status.loadingItem = id;\r\n\r\n      const cart = {\r\n        product_id: id,\r\n        qty: 1,\r\n      };\r\n\r\n      this.animateToCart(event);\r\n\r\n      this.$http\r\n        .post(url, { data: cart })\r\n        .then(() => {\r\n          this.status.loadingItem = \"\";\r\n          this.getCart();\r\n        })\r\n        .catch(() => {\r\n          this.status.loadingItem = \"\";\r\n          alert(\"加入購物車失敗，請稍後再試\");\r\n        });\r\n    },\r\n    getCart() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.isLoading = true;\r\n      this.$http\r\n        .get(url)\r\n        .then((res) => {\r\n          if (res.data && res.data.data && Array.isArray(res.data.data.carts)) {\r\n            this.cart = res.data.data.carts;\r\n          } else {\r\n            this.cart = [];\r\n          }\r\n          this.isLoading = false;\r\n        })\r\n        .catch(() => {\r\n          this.cart = [];\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    removeCartItem(id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\r\n      this.$http\r\n        .delete(url)\r\n        .then(() => {\r\n          this.cart = this.cart.filter((item) => item.id !== id);\r\n        })\r\n        .catch(() => {\r\n          alert(\"刪除商品失敗，請稍後再試\");\r\n        });\r\n    },\r\n    handleOutsideClick(event) {\r\n      const cartIcon = this.$refs.cartIcon;\r\n      if (cartIcon && !cartIcon.contains(event.target)) {\r\n        this.showCartPreview = false;\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    document.addEventListener(\"click\", this.handleOutsideClick);\r\n    emitter.on(\"update-cart\", this.getCart);\r\n    this.getProducts();\r\n    this.getCart();\r\n  },\r\n  beforeUnmount() {\r\n    document.removeEventListener(\"click\", this.handleOutsideClick);\r\n    emitter.off(\"update-cart\", this.getCart);\r\n  },\r\n};\r\n</script>\r\n\r\n<template>\r\n  <Loading :active=\"isLoading\"></Loading>\r\n  <nav class=\"navbar navbar-expand-lg bg-dark fixed-top\" data-bs-theme=\"dark\">\r\n    <div class=\"container-fluid\">\r\n      <!-- 籃球瘋 -->\r\n      <router-link class=\"navbar-brand\" to=\"/\"> 籃球瘋 </router-link>\r\n\r\n      <button\r\n        class=\"navbar-toggler\"\r\n        type=\"button\"\r\n        data-bs-toggle=\"collapse\"\r\n        data-bs-target=\"#navbarText\"\r\n        aria-controls=\"navbarText\"\r\n        aria-expanded=\"false\"\r\n        aria-label=\"Toggle navigation\"\r\n      >\r\n        <span class=\"navbar-toggler-icon\"></span>\r\n      </button>\r\n\r\n      <div class=\"collapse navbar-collapse\" id=\"navbarText\">\r\n        <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link\" to=\"/about\">關於</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link\" to=\"/frontproducts\">產品</router-link>\r\n          </li>\r\n          <li class=\"nav-item\">\r\n            <router-link class=\"nav-link\" to=\"/news\">最新消息</router-link>\r\n          </li>\r\n        </ul>\r\n\r\n        <!-- 右邊購物車 -->\r\n        <ul class=\"navbar-nav ms-auto\">\r\n          <span ref=\"cartIcon\" class=\"cart-wrapper\" v-on=\"cartIconEvents\">\r\n            <div class=\"cart-anchor\">\r\n              <router-link\r\n                class=\"nav-link cart-link\"\r\n                to=\"/user/cart\"\r\n                style=\"margin-right: 0.5cm\"\r\n              >\r\n                購物車\r\n                <span\r\n                  v-if=\"cartQty > 0\"\r\n                  class=\"cart-badge badge rounded-pill bg-danger\"\r\n                >\r\n                  {{ cartQty }}\r\n                </span>\r\n              </router-link>\r\n            </div>\r\n            <!-- 購物車預覽清單 -->\r\n            <div\r\n              v-if=\"showCartPreview && cartQty > 0\"\r\n              class=\"cart-preview position-absolute bg-white text-dark border rounded shadow\"\r\n            >\r\n              <div\r\n                v-for=\"item in cartItems\"\r\n                :key=\"item.id\"\r\n                class=\"d-flex align-items-center p-2 border-bottom\"\r\n              >\r\n                <img\r\n                  :src=\"item.product.imageUrl\"\r\n                  alt=\"商品圖片\"\r\n                  class=\"me-2\"\r\n                  style=\"width: 50px; height: 50px; object-fit: cover\"\r\n                />\r\n                <div class=\"flex-grow-1\">\r\n                  <div class=\"fw-bold\">{{ item.product.title }}</div>\r\n                  <div class=\"text-dark small\">數量: {{ item.qty }}</div>\r\n                </div>\r\n                <button\r\n                  class=\"btn btn-sm btn-outline-danger ms-2\"\r\n                  @click.stop.prevent=\"removeCartItem(item.id)\"\r\n                >\r\n                  &times;\r\n                </button>\r\n              </div>\r\n              <div class=\"p-2 text-center\">\r\n                <router-link to=\"/user/cart\" class=\"btn btn-sm btn-dark\">\r\n                  前往購物車\r\n                </router-link>\r\n              </div>\r\n            </div>\r\n          </span>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </nav>\r\n\r\n  <main class=\"flex-grow-1\">\r\n    <section class=\"hero-section d-flex align-items-center\">\r\n      <div class=\"hero-overlay\"></div>\r\n      <div class=\"container position-relative\">\r\n        <div class=\"row\">\r\n          <div class=\"col-lg-6 col-md-8\">\r\n            <h1 class=\"display-3 fw-bold text-white\">籃球瘋</h1>\r\n            <p class=\"lead text-white\">這裡是最強的籃球訓練平台！</p>\r\n            <button\r\n              class=\"btn btn-dark btn-lg mt-3\"\r\n              @click=\"$router.push('/frontproducts')\"\r\n            >\r\n              立即選購\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n\r\n    <!-- 最新消息 -->\r\n    <div class=\"row mb-5\">\r\n      <div class=\"col-12 d-flex justify-content-center\">\r\n        <div class=\"content-wrapper\">\r\n          <TitleList />\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 熱賣產品 -->\r\n    <div class=\"row\">\r\n      <div class=\"col-12 d-flex justify-content-center\">\r\n        <div class=\"content-wrapper\">\r\n          <h2 class=\"text-center fw-bold mb-4\">熱賣產品</h2>\r\n          <ProductCarousel\r\n            v-if=\"products.length\"\r\n            :products=\"products\"\r\n            :cart-icon-ref=\"$refs.cartIcon\"\r\n            :cart-qty=\"cartQty\"\r\n            @add-to-cart=\"(id, $event) => addCart(id, $event)\"\r\n            @card-click=\"getProduct\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </main>\r\n</template>\r\n\r\n<style>\r\na {\r\n  text-decoration: none;\r\n}\r\nhtml {\r\n  scroll-behavior: smooth;\r\n  background-color: #ffffe0;\r\n}\r\n\r\nbody {\r\n  background-color: #ffffe0;\r\n}\r\n\r\n.content-wrapper {\r\n  max-width: 1200px;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n  padding: 0 15px;\r\n}\r\nmain.flex-grow-1 {\r\n  padding-bottom: 48px;\r\n}\r\n\r\n/* navbar hover & active 設定 */\r\n.navbar.bg-dark .navbar-brand,\r\n.navbar.bg-dark .nav-link,\r\n.navbar.bg-dark .cart-link,\r\n.navbar[data-bs-theme=\"dark\"] .navbar-brand,\r\n.navbar[data-bs-theme=\"dark\"] .nav-link,\r\n.navbar[data-bs-theme=\"dark\"] .cart-link {\r\n  color: #ffffff !important;\r\n  transition: color 0.18s ease-in-out;\r\n}\r\n\r\n.navbar.bg-dark .navbar-brand:hover,\r\n.navbar.bg-dark .nav-link:hover,\r\n.navbar.bg-dark .cart-link:hover,\r\n.navbar[data-bs-theme=\"dark\"] .navbar-brand:hover,\r\n.navbar[data-bs-theme=\"dark\"] .nav-link:hover,\r\n.navbar[data-bs-theme=\"dark\"] .cart-link:hover {\r\n  color: #f8d90f !important;\r\n  font-weight: 700 !important;\r\n}\r\n\r\n.navbar.bg-dark .navbar-brand.router-link-active,\r\n.navbar.bg-dark .nav-link.router-link-active,\r\n.navbar.bg-dark .cart-link.router-link-active,\r\n.navbar.bg-dark .navbar-brand.active,\r\n.navbar.bg-dark .nav-link.active,\r\n.navbar.bg-dark .cart-link.active,\r\n.navbar[data-bs-theme=\"dark\"] .navbar-brand.router-link-active,\r\n.navbar[data-bs-theme=\"dark\"] .nav-link.router-link-active,\r\n.navbar[data-bs-theme=\"dark\"] .cart-link.router-link-active,\r\n.navbar[data-bs-theme=\"dark\"] .navbar-brand.active,\r\n.navbar[data-bs-theme=\"dark\"] .nav-link.active,\r\n.navbar[data-bs-theme=\"dark\"] .cart-link.active {\r\n  color: #f8d90f !important;\r\n  font-weight: 700 !important;\r\n}\r\n\r\n.navbar.bg-dark .nav-link:focus,\r\n.navbar[data-bs-theme=\"dark\"] .nav-link:focus {\r\n  color: #f8d90f !important;\r\n}\r\n\r\n/* cart badge 定位 */\r\n.cart-link {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n\r\n.cart-link .cart-badge {\r\n  position: absolute;\r\n  top: -0.4rem;\r\n  right: -0.6rem;\r\n}\r\n\r\n.cart-wrapper {\r\n  position: relative;\r\n}\r\n\r\n/* 預覽清單 */\r\n.cart-preview {\r\n  animation: fadeIn 0.2s ease-in-out;\r\n  position: absolute;\r\n  top: 100%;\r\n  right: 0;\r\n  z-index: 2000;\r\n  width: 300px;\r\n  max-height: 350px;\r\n  overflow-y: auto;\r\n  background: #fff;\r\n  border: 1px solid #ddd;\r\n  border-radius: 0.5rem;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n@media (max-width: 768px) {\r\n  .cart-preview {\r\n    left: 0 !important;\r\n    right: auto !important;\r\n    width: calc(100vw - 20px);\r\n    max-width: none;\r\n  }\r\n}\r\n\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: translateY(-5px);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: translateY(0);\r\n  }\r\n}\r\n\r\n.hero-section {\r\n  position: relative;\r\n  height: 70vh;\r\n  background: url(\"@/assets/picture/basketballpart1.png\") center center/cover no-repeat;\r\n  margin-top: -56px;\r\n  padding-top: 56px;\r\n}\r\n\r\n.hero-overlay {\r\n  position: absolute;\r\n  inset: 0;\r\n  background: linear-gradient(to bottom, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.1));\r\n}\r\n\r\n.hero-section .container {\r\n  position: relative;\r\n  z-index: 2;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"title-list-container\">\r\n    <h2 class=\"fw-bold text-center mb-4\">最新消息</h2>\r\n\r\n    <!-- 外層灰底 -->\r\n    <div class=\"news-box\">\r\n      <!-- 內層白底清單 -->\r\n      <ul class=\"news-list\">\r\n        <li\r\n          v-for=\"(post, index) in limitedPosts\"\r\n          :key=\"index\"\r\n          class=\"news-item\"\r\n        >\r\n          <a\r\n            :href=\"getFirstLink(post)\"\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            class=\"news-title\"\r\n          >\r\n            {{ post.postInfo.title }}\r\n          </a>\r\n        </li>\r\n      </ul>\r\n\r\n      <!-- 🔹 查看更多按鈕放在灰色底內 -->\r\n      <div class=\"text-center mt-3\">\r\n        <router-link to=\"/news\" class=\"btn btn-dark\">\r\n          查看更多\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n\r\n    <div v-if=\"error\" style=\"color: red\" class=\"mt-3\">\r\n      錯誤：{{ error }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"TitleList\",\r\n  data() {\r\n    return {\r\n      files: [\"nba_6502.json\", \"nba_6503.json\"],\r\n      posts: [],\r\n      error: null,\r\n    };\r\n  },\r\n  computed: {\r\n    limitedPosts() {\r\n      return this.posts.slice(0, 5);\r\n    },\r\n  },\r\n  mounted() {\r\n    this.loadAllJsonFiles();\r\n  },\r\n  methods: {\r\n    async loadAllJsonFiles() {\r\n      try {\r\n        const fetchPromises = this.files.map((file) =>\r\n          fetch(file).then((res) => {\r\n            if (!res.ok) throw new Error(`${file} 載入失敗`);\r\n            return res.json();\r\n          })\r\n        );\r\n\r\n        const allData = await Promise.all(fetchPromises);\r\n\r\n        allData.forEach((dataArray) => {\r\n          dataArray.forEach((item) => {\r\n            if (item.postInfo?.title && item.postInfo.title !== \"unknown\") {\r\n              this.posts.push(item);\r\n            }\r\n          });\r\n        });\r\n      } catch (err) {\r\n        this.error = err.message;\r\n        alert(\"載入失敗：\" + err.message);\r\n      }\r\n    },\r\n    getFirstLink(post) {\r\n      const links = post.contentInfo?.link || [];\r\n      const imageLinks = post.contentInfo?.image || [];\r\n      const filtered = links.filter((link) => !imageLinks.includes(link));\r\n      return filtered[0] || links[0] || \"#\";\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.title-list-container {\r\n  margin-top: 100px; /* 與上方 hero 區塊距離 */\r\n  margin-bottom: 70px;\r\n  max-width: 1500px; /* ✅ 限制區塊最大寬度 */\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n}\r\n\r\n\r\n/* 灰色外框 */\r\n.news-box {\r\n  background: #F0F0F0;\r\n  border-radius: 6px;\r\n  padding: 20px;\r\n}\r\n\r\n/* 白底清單 */\r\n.news-list {\r\n  background: #ffffff;\r\n  border-radius: 4px;\r\n  padding: 15px;\r\n  margin: 0;\r\n  list-style: none;\r\n}\r\n\r\n/* 單一項目 */\r\n.news-item {\r\n  padding: 8px 0;\r\n  border-bottom: 1px solid #eee;\r\n}\r\n.news-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n/* 文字樣式 */\r\n:deep(.news-title) {\r\n  color: #000;\r\n  text-decoration: none;\r\n}\r\n:deep(.news-title:visited) {\r\n  color: #000;\r\n}\r\n:deep(.news-title:hover),\r\n:deep(.news-title:visited:hover) {\r\n  color: #1e88e5 !important;\r\n  text-decoration: underline;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./TitleList.vue?vue&type=template&id=1c8bb14a&scoped=true\"\nimport script from \"./TitleList.vue?vue&type=script&lang=js\"\nexport * from \"./TitleList.vue?vue&type=script&lang=js\"\n\nimport \"./TitleList.vue?vue&type=style&index=0&id=1c8bb14a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1c8bb14a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"carousel-wrapper\">\r\n    <Carousel\r\n      ref=\"carousel\"\r\n      v-model:currentSlide=\"currentSlide\"\r\n      :wrap-around=\"true\"\r\n      :mouse-drag=\"true\"\r\n      :transition=\"500\"\r\n      :items-to-scroll=\"1\"\r\n      :breakpoints=\"breakpoints\"\r\n    >\r\n      <Slide v-for=\"item in products\" :key=\"item.id\">\r\n        <div class=\"card product-card\" @click=\"$emit('card-click', item.id)\">\r\n          <img :src=\"item.imageUrl\" :alt=\"item.title\" class=\"card-img-top\" />\r\n          <div class=\"card-body text-center\">\r\n            <h5 class=\"card-title\">{{ item.title }}</h5>\r\n            <p class=\"card-text\">{{ item.description }}</p>\r\n            <p class=\"text-danger fw-bold\">{{ formatCurrency(item.price) }}</p>\r\n\r\n            <div class=\"mt-auto\">\r\n              <button\r\n                type=\"button\"\r\n                class=\"btn btn-dark btn-sm\"\r\n                :disabled=\"status.loadingItem === item.id\"\r\n                @click.stop=\"$emit('add-to-cart', item.id, $event)\"\r\n              >\r\n                <span\r\n                  v-if=\"status.loadingItem === item.id\"\r\n                  class=\"spinner-border spinner-border-sm text-light\"\r\n                  role=\"status\"\r\n                ></span>\r\n                <span v-else>加到購物車</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </Slide>\r\n\r\n       <template #addons>\r\n        <Navigation>\r\n          <template #prev>\r\n            <button class=\"custom-arrow left\" aria-label=\"prev\">‹</button>\r\n          </template>\r\n          <template #next>\r\n            <button class=\"custom-arrow right\" aria-label=\"next\">›</button>\r\n          </template>\r\n        </Navigation>\r\n        <Pagination class=\"custom-pagination\" />\r\n      </template>\r\n    </Carousel>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport { Carousel, Slide, Navigation, Pagination } from \"vue3-carousel\";\r\nimport \"vue3-carousel/dist/carousel.css\";\r\n\r\nexport default {\r\n  name: \"ProductCarousel\",\r\n  components: { Carousel, Slide, Navigation, Pagination },\r\n  props: {\r\n    products: {\r\n      type: Array,\r\n      required: true,\r\n    },\r\n    cartIconRef: {\r\n      type: Object,\r\n      default: null,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      currentSlide: 0, // ✅ 用來同步 Carousel 和 Pagination\r\n      status: {\r\n        loadingItem: \"\",\r\n      },\r\n      cart: [],\r\n      isLoading: false,\r\n      showCartPreview: false,\r\n      breakpoints: {\r\n        0: { itemsToShow: 1 },\r\n        768: { itemsToShow: 1 },\r\n        1024: { itemsToShow: 3 },\r\n      },\r\n    };\r\n  },\r\n  setup() {\r\n    const carousel = ref(null);\r\n    function formatCurrency(value) {\r\n      if (!value && value !== 0) return \"NT$ 0\";\r\n      return new Intl.NumberFormat(\"zh-TW\", {\r\n        style: \"currency\",\r\n        currency: \"TWD\",\r\n        minimumFractionDigits: 0,\r\n      }).format(value);\r\n    }\r\n    return { carousel, formatCurrency };\r\n  },\r\n  methods: {\r\n    getProduct(id) {\r\n      this.$router.push(`/user/product/${id}`);\r\n    },\r\n    animateToCart(event) {\r\n      try {\r\n        const productCard = event.currentTarget.closest(\".card\");\r\n        const productImg = productCard?.querySelector(\".card-img-top\");\r\n        const cartIcon = this.cartIconRef || this.$refs.cartIcon;\r\n\r\n        if (!productImg || !cartIcon) {\r\n          console.warn(\r\n            \"動畫失敗：無法找到圖片或購物車圖示（請在購物車圖示加上 ref='cartIcon'）\"\r\n          );\r\n          return;\r\n        }\r\n\r\n        const imgClone = productImg.cloneNode(true);\r\n        const imgRect = productImg.getBoundingClientRect();\r\n        const cartRect = cartIcon.getBoundingClientRect();\r\n\r\n        imgClone.style.position = \"fixed\";\r\n        imgClone.style.left = `${imgRect.left}px`;\r\n        imgClone.style.top = `${imgRect.top}px`;\r\n        imgClone.style.width = `${imgRect.width}px`;\r\n        imgClone.style.height = `${imgRect.height}px`;\r\n        imgClone.style.zIndex = 1000;\r\n        imgClone.style.transition = \"all 0.8s ease-in-out\";\r\n\r\n        document.body.appendChild(imgClone);\r\n\r\n        requestAnimationFrame(() => {\r\n          imgClone.style.left = `${cartRect.left}px`;\r\n          imgClone.style.top = `${cartRect.top}px`;\r\n          imgClone.style.width = \"0px\";\r\n          imgClone.style.height = \"0px\";\r\n          imgClone.style.opacity = \"0.5\";\r\n        });\r\n\r\n        imgClone.addEventListener(\"transitionend\", () => {\r\n          imgClone.remove();\r\n        });\r\n      } catch (err) {\r\n        console.error(\"animateToCart error:\", err);\r\n      }\r\n    },\r\n    getCart() {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.isLoading = true;\r\n      this.$http\r\n        .get(url)\r\n        .then((res) => {\r\n          if (res.data && res.data.data && Array.isArray(res.data.data.carts)) {\r\n            this.cart = res.data.data.carts;\r\n          } else {\r\n            this.cart = [];\r\n          }\r\n          this.isLoading = false;\r\n        })\r\n        .catch(() => {\r\n          this.cart = [];\r\n          this.isLoading = false;\r\n        });\r\n    },\r\n    addCart(id, event) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\r\n      this.status.loadingItem = id;\r\n      const cart = { product_id: id, qty: 1 };\r\n      this.animateToCart(event);\r\n      this.$http\r\n        .post(url, { data: cart })\r\n        .then(() => {\r\n          this.status.loadingItem = \"\";\r\n          const existing = this.cart.find(\r\n            (item) => item.product_id === id || item.product.id === id\r\n          );\r\n          if (existing) {\r\n            existing.qty += 1;\r\n          } else {\r\n            this.cart.push({\r\n              id: Date.now(),\r\n              product_id: id,\r\n              qty: 1,\r\n              product: this.products.find((p) => p.id === id) || {},\r\n            });\r\n          }\r\n          this.getCart();\r\n        })\r\n        .catch(() => {\r\n          this.status.loadingItem = \"\";\r\n          alert(\"加入購物車失敗，請稍後再試\");\r\n        });\r\n    },\r\n    removeCartItem(id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart/${id}`;\r\n      this.$http\r\n        .delete(url)\r\n        .then(() => {\r\n          this.cart = this.cart.filter((item) => item.id !== id);\r\n        })\r\n        .catch(() => {\r\n          alert(\"刪除商品失敗，請稍後再試\");\r\n        });\r\n    },\r\n    handleOutsideClick(event) {\r\n      const cartIcon = this.$refs.cartIcon;\r\n      if (cartIcon && !cartIcon.contains(event.target)) {\r\n        this.showCartPreview = false;\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.carousel-wrapper {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  position: relative;\r\n  overflow: visible;\r\n}\r\n.carousel-wrapper:last-of-type {\r\n  margin-bottom: 48px;\r\n}\r\n@media (min-width: 768px) {\r\n  .carousel-wrapper:last-of-type {\r\n    margin-bottom: 64px;\r\n  }\r\n}\r\n\r\n.card {\r\n  cursor: pointer;\r\n  transition: transform 0.5s ease, box-shadow 0.5s ease;\r\n}\r\n.card:hover,\r\n.card.active {\r\n  transform: translateY(-5px) scale(1.02);\r\n  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);\r\n}\r\n.product-card {\r\n  margin: 0 10px;\r\n  height: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n.card-img-top {\r\n  height: 200px;\r\n  object-fit: cover;\r\n}\r\n.card-body {\r\n  flex-grow: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n}\r\n\r\n/* 自訂箭頭 */\r\n.custom-arrow {\r\n  position: absolute;\r\n  top: 50%;\r\n  transform: translateY(-50%);\r\n  background: transparent;\r\n  border: none;\r\n  font-size: 2rem;\r\n  font-weight: bold;\r\n  color: #000;\r\n  cursor: pointer;\r\n  z-index: 1000;\r\n}\r\n@media (min-width: 1024px) {\r\n  .custom-arrow.left {\r\n    left: -15px;\r\n  }\r\n  .custom-arrow.right {\r\n    right: -15px;\r\n  }\r\n}\r\n@media (min-width: 768px) and (max-width: 1023px) {\r\n  .custom-arrow.left {\r\n    left: -5px;\r\n  }\r\n  .custom-arrow.right {\r\n    right: -5px;\r\n  }\r\n}\r\n@media (max-width: 767px) {\r\n  .custom-arrow {\r\n    font-size: 1.5rem;\r\n  }\r\n  .custom-arrow.left {\r\n    left: -5px;\r\n  }\r\n  .custom-arrow.right {\r\n    right: -5px;\r\n  }\r\n}\r\n\r\n/* 分頁圓點樣式 */\r\n.custom-pagination {\r\n  position: relative;\r\n  margin-top: 20px !important; /* ✅ 推到卡片下方 */\r\n  display: flex !important;\r\n  justify-content: center;\r\n}\r\n\r\n.custom-pagination .carousel__pagination-button {\r\n  width: 12px;\r\n  height: 12px;\r\n  border-radius: 50%;\r\n  background: #ccc;\r\n  margin: 0 6px;\r\n  transition: background 0.3s ease, transform 0.3s ease;\r\n}\r\n\r\n.custom-pagination .carousel__pagination-button--active {\r\n  background: #333;\r\n  transform: scale(1.2);\r\n}\r\n</style>\r\n","/**\n * Vue 3 Carousel 0.16.0\n * (c) 2025\n * @license MIT\n */\nimport { shallowReactive, cloneVNode, defineComponent, inject, h, reactive, ref, computed, watch, watchEffect, onMounted, onBeforeUnmount, provide, toRefs, useId, getCurrentInstance, onUnmounted, onUpdated } from 'vue';\n\nconst BREAKPOINT_MODE_OPTIONS = ['viewport', 'carousel'];\nconst DIR_MAP = {\n    'bottom-to-top': 'btt',\n    'left-to-right': 'ltr',\n    'right-to-left': 'rtl',\n    'top-to-bottom': 'ttb',\n};\nconst DIR_OPTIONS = [\n    'ltr',\n    'left-to-right',\n    'rtl',\n    'right-to-left',\n    'ttb',\n    'top-to-bottom',\n    'btt',\n    'bottom-to-top',\n];\nconst I18N_DEFAULT_CONFIG = {\n    ariaGallery: 'Gallery',\n    ariaNavigateToPage: 'Navigate to page {slideNumber}',\n    ariaNavigateToSlide: 'Navigate to slide {slideNumber}',\n    ariaNextSlide: 'Navigate to next slide',\n    ariaPreviousSlide: 'Navigate to previous slide',\n    iconArrowDown: 'Arrow pointing downwards',\n    iconArrowLeft: 'Arrow pointing to the left',\n    iconArrowRight: 'Arrow pointing to the right',\n    iconArrowUp: 'Arrow pointing upwards',\n    itemXofY: 'Item {currentSlide} of {slidesCount}',\n};\nconst NORMALIZED_DIR_OPTIONS = Object.values(DIR_MAP);\nconst SLIDE_EFFECTS = ['slide', 'fade'];\nconst SNAP_ALIGN_OPTIONS = [\n    'center',\n    'start',\n    'end',\n    'center-even',\n    'center-odd',\n];\nconst DEFAULT_MOUSE_WHEEL_THRESHOLD = 10;\nconst DEFAULT_DRAG_THRESHOLD = 0.08;\nconst DEFAULT_CONFIG = {\n    autoplay: 0,\n    breakpointMode: BREAKPOINT_MODE_OPTIONS[0],\n    breakpoints: undefined,\n    dir: DIR_OPTIONS[0],\n    enabled: true,\n    gap: 0,\n    height: 'auto',\n    i18n: I18N_DEFAULT_CONFIG,\n    ignoreAnimations: false,\n    itemsToScroll: 1,\n    itemsToShow: 1,\n    modelValue: 0,\n    mouseDrag: true,\n    mouseWheel: false,\n    pauseAutoplayOnHover: false,\n    preventExcessiveDragging: false,\n    slideEffect: SLIDE_EFFECTS[0],\n    snapAlign: SNAP_ALIGN_OPTIONS[0],\n    touchDrag: true,\n    transition: 300,\n    wrapAround: false,\n};\n\n// Use a symbol for inject provide to avoid any kind of collision with another lib\n// https://vuejs.org/guide/components/provide-inject#working-with-symbol-keys\nconst injectCarousel = Symbol('carousel');\n\nconst createSlideRegistry = (emit) => {\n    const slides = shallowReactive([]);\n    const updateSlideIndexes = (startIndex) => {\n        if (startIndex !== undefined) {\n            slides.slice(startIndex).forEach((slide, offset) => {\n                var _a;\n                (_a = slide.exposed) === null || _a === void 0 ? void 0 : _a.setIndex(startIndex + offset);\n            });\n        }\n        else {\n            slides.forEach((slide, index) => {\n                var _a;\n                (_a = slide.exposed) === null || _a === void 0 ? void 0 : _a.setIndex(index);\n            });\n        }\n    };\n    return {\n        cleanup: () => {\n            slides.splice(0, slides.length);\n        },\n        getSlides: () => slides,\n        registerSlide: (slide, index) => {\n            if (!slide)\n                return;\n            if (slide.props.isClone) {\n                return;\n            }\n            const slideIndex = index !== null && index !== void 0 ? index : slides.length;\n            slides.splice(slideIndex, 0, slide);\n            updateSlideIndexes(slideIndex);\n            emit('slide-registered', { slide, index: slideIndex });\n        },\n        unregisterSlide: (slide) => {\n            const slideIndex = slides.indexOf(slide);\n            if (slideIndex === -1)\n                return;\n            emit('slide-unregistered', { slide, index: slideIndex });\n            slides.splice(slideIndex, 1);\n            updateSlideIndexes(slideIndex);\n        },\n    };\n};\n\nfunction calculateAverage(numbers) {\n    if (numbers.length === 0)\n        return 0;\n    const sum = numbers.reduce((acc, num) => acc + num, 0);\n    return sum / numbers.length;\n}\n\nfunction createCloneSlides({ slides, position, toShow }) {\n    const clones = [];\n    const isBefore = position === 'before';\n    const start = isBefore ? -toShow : 0;\n    const end = isBefore ? 0 : toShow;\n    if (slides.length <= 0) {\n        return clones;\n    }\n    for (let i = start; i < end; i++) {\n        const index = isBefore ? i : i + slides.length;\n        const props = {\n            index,\n            isClone: true,\n            id: undefined, // Make sure we don't duplicate the id which would be invalid html\n            key: `clone-${position}-${i}`,\n        };\n        const vnode = slides[((i % slides.length) + slides.length) % slides.length].vnode;\n        const clone = cloneVNode(vnode, props);\n        clone.el = null;\n        clones.push(clone);\n    }\n    return clones;\n}\n\nconst FOCUSABLE_ELEMENTS_SELECTOR = 'a[href], button, input, textarea, select, details, [tabindex]:not([tabindex=\"-1\"])';\n/**\n * Disables keyboard tab navigation for all focusable child elements\n * @param node Vue virtual node containing the elements to disable\n */\nfunction disableChildrenTabbing(node) {\n    if (!node.el || !(node.el instanceof Element)) {\n        return;\n    }\n    const elements = node.el.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR);\n    for (const el of elements) {\n        if (el instanceof HTMLElement &&\n            !el.hasAttribute('disabled') &&\n            el.getAttribute('aria-hidden') !== 'true') {\n            el.setAttribute('tabindex', '-1');\n        }\n    }\n}\n\n/** Useful function to destructure props without triggering reactivity for certain keys */\nfunction except(obj, keys) {\n    return Object.keys(obj).filter((k) => !keys.includes(k))\n        .reduce((acc, key) => (acc[key] = obj[key], acc), {});\n}\n\n/**\n * Calculates the number of slides to move based on drag movement\n * @param params Configuration parameters for drag calculation\n * @returns Number of slides to move (positive or negative)\n */\nfunction getDraggedSlidesCount(params) {\n    const { isVertical, isReversed, dragged, effectiveSlideSize, threshold } = params;\n    // Get drag value based on direction\n    const dragValue = isVertical ? dragged.y : dragged.x;\n    // If no drag, return +0 explicitly\n    if (dragValue === 0)\n        return 0;\n    const dragRatio = dragValue / effectiveSlideSize;\n    const absRatio = Math.abs(dragRatio);\n    // If below the threshold, consider it no movement\n    if (absRatio < threshold)\n        return 0;\n    // For drags less than a full slide, move one slide in the drag direction\n    // For drags of a full slide or more, move the corresponding number of slides\n    const slidesDragged = absRatio < 1 ? Math.sign(dragRatio) : Math.round(dragRatio);\n    return isReversed ? slidesDragged : -slidesDragged;\n}\n\nfunction getNumberInRange({ val, max, min }) {\n    if (max < min) {\n        return val;\n    }\n    return Math.min(Math.max(val, isNaN(min) ? val : min), isNaN(max) ? val : max);\n}\n\nfunction getTransformValues(el) {\n    const { transform } = window.getComputedStyle(el);\n    //add sanity check\n    return transform\n        .split(/[(,)]/)\n        .slice(1, -1)\n        .map((v) => parseFloat(v));\n}\nfunction getScaleMultipliers(transformElements) {\n    let widthMultiplier = 1;\n    let heightMultiplier = 1;\n    transformElements.forEach((el) => {\n        const transformArr = getTransformValues(el);\n        if (transformArr.length === 6) {\n            widthMultiplier /= transformArr[0];\n            heightMultiplier /= transformArr[3];\n        }\n    });\n    return { widthMultiplier, heightMultiplier };\n}\n\n/**\n * Calculates the snap align offset for a carousel item based on items to show.\n * Returns the number of slides to offset.\n *\n * @param align - The alignment type.\n * @param itemsToShow - The number of items to show.\n * @returns The calculated offset.\n */\nfunction getSnapAlignOffsetByItemsToShow(align, itemsToShow) {\n    switch (align) {\n        case 'start':\n            return 0;\n        case 'center':\n        case 'center-odd':\n            return (itemsToShow - 1) / 2;\n        case 'center-even':\n            return (itemsToShow - 2) / 2;\n        case 'end':\n            return itemsToShow - 1;\n        default:\n            return 0;\n    }\n}\n/**\n * Calculates the snap align offset for a carousel item based on slide and viewport size.\n * Returns the real width to offset.\n *\n * @param align - The alignment type.\n * @param slideSize - The size of the slide.\n * @param viewportSize - The size of the viewport.\n * @returns The calculated offset.\n */\nfunction getSnapAlignOffsetBySlideAndViewport(align, slideSize, viewportSize) {\n    switch (align) {\n        case 'start':\n            return 0;\n        case 'center':\n        case 'center-odd':\n            return (viewportSize - slideSize) / 2;\n        case 'center-even':\n            return viewportSize / 2 - slideSize;\n        case 'end':\n            return viewportSize - slideSize;\n        default:\n            return 0;\n    }\n}\n/**\n * Calculates the snap align offset for a carousel item.\n *\n * @param params - The parameters for calculating the offset.\n * @returns The calculated offset.\n */\nfunction getSnapAlignOffset({ slideSize, viewportSize, align, itemsToShow, }) {\n    if (itemsToShow !== undefined) {\n        return getSnapAlignOffsetByItemsToShow(align, itemsToShow);\n    }\n    if (slideSize !== undefined && viewportSize !== undefined) {\n        return getSnapAlignOffsetBySlideAndViewport(align, slideSize, viewportSize);\n    }\n    return 0;\n}\n\nfunction i18nFormatter(string = '', values = {}) {\n    return Object.entries(values).reduce((acc, [key, value]) => acc.replace(`{${key}}`, String(value)), string);\n}\n\nfunction mapNumberToRange({ val, max, min = 0 }) {\n    const mod = max - min + 1;\n    return ((((val - min) % mod) + mod) % mod) + min;\n}\n\n/**\n * Returns a throttled version of the function using requestAnimationFrame.\n *\n * @param fn - The function to throttle.\n * @param ms - The number of milliseconds to wait for the throttled function to be called again\n */\nfunction throttle(fn, ms = 0) {\n    let isThrottled = false;\n    let start = 0;\n    let frameId = null;\n    function throttled(...args) {\n        if (isThrottled)\n            return;\n        isThrottled = true;\n        const step = () => {\n            frameId = requestAnimationFrame((time) => {\n                const elapsed = time - start;\n                if (elapsed > ms) {\n                    start = time;\n                    fn(...args);\n                    isThrottled = false;\n                }\n                else {\n                    step();\n                }\n            });\n        };\n        step();\n    }\n    throttled.cancel = () => {\n        if (frameId) {\n            cancelAnimationFrame(frameId);\n            frameId = null;\n            isThrottled = false;\n        }\n    };\n    return throttled;\n}\n\n/**\n * Converts a value to a CSS-compatible string.\n * @param value - The value to convert.\n * @returns The CSS-compatible string.\n **/\nfunction toCssValue(value, unit = 'px') {\n    if (value === null || value === undefined || value === '') {\n        return undefined;\n    }\n    if (typeof value === 'number' || parseFloat(value).toString() === value) {\n        return `${value}${unit}`;\n    }\n    return value;\n}\n\nconst ARIA = defineComponent({\n    name: 'CarouselAria',\n    setup() {\n        const carousel = inject(injectCarousel);\n        if (!carousel) {\n            return () => '';\n        }\n        return () => h('div', {\n            class: ['carousel__liveregion', 'carousel__sr-only'],\n            'aria-live': 'polite',\n            'aria-atomic': 'true',\n        }, i18nFormatter(carousel.config.i18n['itemXofY'], {\n            currentSlide: carousel.currentSlide + 1,\n            slidesCount: carousel.slidesCount,\n        }));\n    },\n});\n\nfunction useDrag(options) {\n    let isTouch = false;\n    const startPosition = { x: 0, y: 0 };\n    const dragged = reactive({ x: 0, y: 0 });\n    const isDragging = ref(false);\n    const { isSliding } = options;\n    const sliding = computed(() => {\n        return typeof isSliding === 'boolean' ? isSliding : isSliding.value;\n    });\n    const handleDragStart = (event) => {\n        var _a;\n        // Prevent drag initiation on input elements or if already sliding\n        const targetTagName = event.target.tagName;\n        if (['INPUT', 'TEXTAREA', 'SELECT'].includes(targetTagName) || sliding.value) {\n            return;\n        }\n        isTouch = event.type === 'touchstart';\n        if (isTouch && event.touches.length > 1) {\n            // If there is more than 1 finger on the screen, avoid drag start (this allows user to pinch zoom)\n            return;\n        }\n        else if (!isTouch) {\n            event.preventDefault();\n            if (event.button !== 0) {\n                return;\n            }\n        }\n        startPosition.x = isTouch\n            ? event.touches[0].clientX\n            : event.clientX;\n        startPosition.y = isTouch\n            ? event.touches[0].clientY\n            : event.clientY;\n        const moveEvent = isTouch ? 'touchmove' : 'mousemove';\n        const endEvent = isTouch ? 'touchend' : 'mouseup';\n        document.addEventListener(moveEvent, handleDrag, { passive: false });\n        document.addEventListener(endEvent, handleDragEnd, { passive: true });\n        (_a = options.onDragStart) === null || _a === void 0 ? void 0 : _a.call(options);\n    };\n    const handleDrag = throttle((event) => {\n        var _a;\n        if (isTouch && event.touches.length > 1) {\n            return;\n        }\n        isDragging.value = true;\n        const currentX = isTouch\n            ? event.touches[0].clientX\n            : event.clientX;\n        const currentY = isTouch\n            ? event.touches[0].clientY\n            : event.clientY;\n        dragged.x = currentX - startPosition.x;\n        dragged.y = currentY - startPosition.y;\n        (_a = options.onDrag) === null || _a === void 0 ? void 0 : _a.call(options, { deltaX: dragged.x, deltaY: dragged.y, isTouch });\n    });\n    const handleDragEnd = () => {\n        var _a;\n        handleDrag.cancel();\n        const draggedDistance = Math.abs(dragged.x) + Math.abs(dragged.y);\n        if (!isTouch && draggedDistance > 10) {\n            window.addEventListener('click', (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n            }, { once: true, capture: true });\n        }\n        (_a = options.onDragEnd) === null || _a === void 0 ? void 0 : _a.call(options);\n        dragged.x = 0;\n        dragged.y = 0;\n        isDragging.value = false;\n        const moveEvent = isTouch ? 'touchmove' : 'mousemove';\n        const endEvent = isTouch ? 'touchend' : 'mouseup';\n        document.removeEventListener(moveEvent, handleDrag);\n        document.removeEventListener(endEvent, handleDragEnd);\n    };\n    return {\n        dragged,\n        isDragging,\n        handleDragStart,\n    };\n}\n\nfunction useHover() {\n    const isHover = ref(false);\n    const handleMouseEnter = () => {\n        isHover.value = true;\n    };\n    const handleMouseLeave = () => {\n        isHover.value = false;\n    };\n    return {\n        isHover,\n        handleMouseEnter,\n        handleMouseLeave,\n    };\n}\n\nfunction useWheel(options) {\n    const { isVertical, isSliding, config } = options;\n    // Create computed values to handle both reactive and non-reactive inputs\n    const vertical = computed(() => {\n        return typeof isVertical === 'boolean' ? isVertical : isVertical.value;\n    });\n    const sliding = computed(() => {\n        return typeof isSliding === 'boolean' ? isSliding : isSliding.value;\n    });\n    const handleScroll = (event) => {\n        var _a, _b;\n        event.preventDefault();\n        if (!config.mouseWheel || sliding.value) {\n            return;\n        }\n        // Add sensitivity threshold to prevent small movements from triggering navigation\n        const threshold = typeof config.mouseWheel === 'object'\n            ? ((_a = config.mouseWheel.threshold) !== null && _a !== void 0 ? _a : DEFAULT_MOUSE_WHEEL_THRESHOLD)\n            : DEFAULT_MOUSE_WHEEL_THRESHOLD;\n        // Determine scroll direction\n        const deltaY = Math.abs(event.deltaY) > threshold ? event.deltaY : 0;\n        const deltaX = Math.abs(event.deltaX) > threshold ? event.deltaX : 0;\n        // If neither delta exceeds the threshold, don't navigate\n        if (deltaY === 0 && deltaX === 0) {\n            return;\n        }\n        // Determine primary delta based on carousel orientation\n        const primaryDelta = vertical.value ? deltaY : deltaX;\n        // If primaryDelta is 0, use the other delta as fallback\n        const effectiveDelta = primaryDelta !== 0 ? primaryDelta : vertical.value ? deltaX : deltaY;\n        // Positive delta means scrolling down/right\n        const isScrollingForward = effectiveDelta > 0;\n        (_b = options.onWheel) === null || _b === void 0 ? void 0 : _b.call(options, { deltaX, deltaY, isScrollingForward });\n    };\n    return {\n        handleScroll,\n    };\n}\n\nconst carouselProps = {\n    // time to auto advance slides in ms\n    autoplay: {\n        default: DEFAULT_CONFIG.autoplay,\n        type: Number,\n    },\n    // an object to store breakpoints\n    breakpoints: {\n        default: DEFAULT_CONFIG.breakpoints,\n        type: Object,\n    },\n    // controls the breakpoint mode relative to the carousel container or the viewport\n    breakpointMode: {\n        default: DEFAULT_CONFIG.breakpointMode,\n        validator(value) {\n            return BREAKPOINT_MODE_OPTIONS.includes(value);\n        },\n    },\n    clamp: {\n        type: Boolean,\n    },\n    // control the direction of the carousel\n    dir: {\n        type: String,\n        default: DEFAULT_CONFIG.dir,\n        validator(value, props) {\n            // The value must match one of these strings\n            if (!DIR_OPTIONS.includes(value)) {\n                return false;\n            }\n            const normalizedDir = value in DIR_MAP ? DIR_MAP[value] : value;\n            if (['ttb', 'btt'].includes(normalizedDir) &&\n                (!props.height || props.height === 'auto')) {\n                console.warn(`[vue3-carousel]: The dir \"${value}\" is not supported with height \"auto\".`);\n            }\n            return true;\n        },\n    },\n    // enable/disable the carousel component\n    enabled: {\n        default: DEFAULT_CONFIG.enabled,\n        type: Boolean,\n    },\n    // control the gap between slides\n    gap: {\n        default: DEFAULT_CONFIG.gap,\n        type: Number,\n    },\n    // set carousel height\n    height: {\n        default: DEFAULT_CONFIG.height,\n        type: [Number, String],\n    },\n    // aria-labels and additional text labels\n    i18n: {\n        default: DEFAULT_CONFIG.i18n,\n        type: Object,\n    },\n    ignoreAnimations: {\n        default: false,\n        type: [Array, Boolean, String],\n    },\n    // count of items to be scrolled\n    itemsToScroll: {\n        default: DEFAULT_CONFIG.itemsToScroll,\n        type: Number,\n    },\n    // count of items to showed per view\n    itemsToShow: {\n        default: DEFAULT_CONFIG.itemsToShow,\n        type: [Number, String],\n    },\n    // slide number number of initial slide\n    modelValue: {\n        default: undefined,\n        type: Number,\n    },\n    // toggle mouse dragging\n    mouseDrag: {\n        default: DEFAULT_CONFIG.mouseDrag,\n        type: [Boolean, Object],\n    },\n    // toggle mouse wheel scrolling\n    mouseWheel: {\n        default: DEFAULT_CONFIG.mouseWheel,\n        type: [Boolean, Object],\n    },\n    // control mouse scroll threshold\n    mouseScrollThreshold: {\n        default: DEFAULT_CONFIG.mouseScrollThreshold,\n        type: Number,\n    },\n    pauseAutoplayOnHover: {\n        default: DEFAULT_CONFIG.pauseAutoplayOnHover,\n        type: Boolean,\n    },\n    preventExcessiveDragging: {\n        default: false,\n        type: Boolean,\n        validator(value, props) {\n            if (value && props.wrapAround) {\n                console.warn(`[vue3-carousel]: \"preventExcessiveDragging\" cannot be used with wrapAround. The setting will be ignored.`);\n            }\n            return true;\n        },\n    },\n    slideEffect: {\n        type: String,\n        default: DEFAULT_CONFIG.slideEffect,\n        validator(value) {\n            return SLIDE_EFFECTS.includes(value);\n        },\n    },\n    // control snap position alignment\n    snapAlign: {\n        default: DEFAULT_CONFIG.snapAlign,\n        validator(value) {\n            return SNAP_ALIGN_OPTIONS.includes(value);\n        },\n    },\n    // toggle touch dragging\n    touchDrag: {\n        default: DEFAULT_CONFIG.touchDrag,\n        type: [Boolean, Object],\n    },\n    // sliding transition time in ms\n    transition: {\n        default: DEFAULT_CONFIG.transition,\n        type: Number,\n    },\n    // control infinite scrolling mode\n    wrapAround: {\n        default: DEFAULT_CONFIG.wrapAround,\n        type: Boolean,\n    },\n};\n\nconst Carousel = defineComponent({\n    name: 'VueCarousel',\n    props: carouselProps,\n    emits: [\n        'before-init',\n        'drag',\n        'init',\n        'loop',\n        'slide-end',\n        'slide-registered',\n        'slide-start',\n        'slide-unregistered',\n        'update:modelValue',\n        'wheel',\n    ],\n    setup(props, { slots, emit, expose }) {\n        var _a;\n        const slideRegistry = createSlideRegistry(emit);\n        const slides = slideRegistry.getSlides();\n        const slidesCount = computed(() => slides.length);\n        const root = ref(null);\n        const viewport = ref(null);\n        const slideSize = ref(0);\n        const fallbackConfig = computed(() => (Object.assign(Object.assign(Object.assign({}, DEFAULT_CONFIG), except(props, ['breakpoints', 'modelValue'])), { i18n: Object.assign(Object.assign({}, DEFAULT_CONFIG.i18n), props.i18n) })));\n        // current active config\n        const config = shallowReactive(Object.assign({}, fallbackConfig.value));\n        // slides\n        const currentSlideIndex = ref((_a = props.modelValue) !== null && _a !== void 0 ? _a : 0);\n        const activeSlideIndex = ref(currentSlideIndex.value);\n        watch(currentSlideIndex, (val) => (activeSlideIndex.value = val));\n        const prevSlideIndex = ref(0);\n        const middleSlideIndex = computed(() => Math.ceil((slidesCount.value - 1) / 2));\n        const maxSlideIndex = computed(() => slidesCount.value - 1);\n        const minSlideIndex = computed(() => 0);\n        let autoplayTimer = null;\n        let transitionTimer = null;\n        let resizeObserver = null;\n        const effectiveSlideSize = computed(() => slideSize.value + config.gap);\n        const normalizedDir = computed(() => {\n            const dir = config.dir || 'ltr';\n            return dir in DIR_MAP ? DIR_MAP[dir] : dir;\n        });\n        const isReversed = computed(() => ['rtl', 'btt'].includes(normalizedDir.value));\n        const isVertical = computed(() => ['ttb', 'btt'].includes(normalizedDir.value));\n        const isAuto = computed(() => config.itemsToShow === 'auto');\n        const dimension = computed(() => (isVertical.value ? 'height' : 'width'));\n        function updateBreakpointsConfig() {\n            var _a;\n            if (!mounted.value) {\n                return;\n            }\n            // Determine the width source based on the 'breakpointMode' config\n            const widthSource = (fallbackConfig.value.breakpointMode === 'carousel'\n                ? (_a = root.value) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect().width\n                : typeof window !== 'undefined'\n                    ? window.innerWidth\n                    : 0) || 0;\n            const breakpointsArray = Object.keys(props.breakpoints || {})\n                .map((key) => Number(key))\n                .sort((a, b) => +b - +a);\n            const newConfig = {};\n            breakpointsArray.some((breakpoint) => {\n                if (widthSource >= breakpoint) {\n                    Object.assign(newConfig, props.breakpoints[breakpoint]);\n                    if (newConfig.i18n) {\n                        Object.assign(newConfig.i18n, fallbackConfig.value.i18n, props.breakpoints[breakpoint].i18n);\n                    }\n                    return true;\n                }\n                return false;\n            });\n            Object.assign(config, fallbackConfig.value, newConfig);\n            // Validate itemsToShow\n            if (!isAuto.value) {\n                config.itemsToShow = getNumberInRange({\n                    val: Number(config.itemsToShow),\n                    max: props.clamp ? slidesCount.value : Infinity,\n                    min: 1,\n                });\n            }\n        }\n        const handleResize = throttle(() => {\n            updateBreakpointsConfig();\n            updateSlidesData();\n            updateSlideSize();\n        });\n        const transformElements = shallowReactive(new Set());\n        /**\n         * Setup functions\n         */\n        const slidesRect = ref([]);\n        function updateSlidesRectSize({ widthMultiplier, heightMultiplier, }) {\n            slidesRect.value = slides.map((slide) => {\n                var _a;\n                const rect = (_a = slide.exposed) === null || _a === void 0 ? void 0 : _a.getBoundingRect();\n                return {\n                    width: rect.width * widthMultiplier,\n                    height: rect.height * heightMultiplier,\n                };\n            });\n        }\n        const viewportRect = ref({\n            width: 0,\n            height: 0,\n        });\n        function updateViewportRectSize({ widthMultiplier, heightMultiplier, }) {\n            var _a;\n            const rect = ((_a = viewport.value) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect()) || { width: 0, height: 0 };\n            viewportRect.value = {\n                width: rect.width * widthMultiplier,\n                height: rect.height * heightMultiplier,\n            };\n        }\n        function updateSlideSize() {\n            if (!viewport.value)\n                return;\n            const scaleMultipliers = getScaleMultipliers(transformElements);\n            updateViewportRectSize(scaleMultipliers);\n            updateSlidesRectSize(scaleMultipliers);\n            if (isAuto.value) {\n                slideSize.value = calculateAverage(slidesRect.value.map((slide) => slide[dimension.value]));\n            }\n            else {\n                const itemsToShow = Number(config.itemsToShow);\n                const totalGap = (itemsToShow - 1) * config.gap;\n                slideSize.value = (viewportRect.value[dimension.value] - totalGap) / itemsToShow;\n            }\n        }\n        function updateSlidesData() {\n            if (!config.wrapAround && slidesCount.value > 0) {\n                currentSlideIndex.value = getNumberInRange({\n                    val: currentSlideIndex.value,\n                    max: maxSlideIndex.value,\n                    min: minSlideIndex.value,\n                });\n            }\n        }\n        const ignoreAnimations = computed(() => {\n            if (typeof props.ignoreAnimations === 'string') {\n                return props.ignoreAnimations.split(',');\n            }\n            else if (Array.isArray(props.ignoreAnimations)) {\n                return props.ignoreAnimations;\n            }\n            else if (!props.ignoreAnimations) {\n                return [];\n            }\n            return false;\n        });\n        watchEffect(() => updateSlidesData());\n        watchEffect(() => {\n            // Call updateSlideSize when viewport is ready and track deps\n            updateSlideSize();\n        });\n        let animationInterval;\n        const setAnimationInterval = (event) => {\n            const target = event.target;\n            if (!(target === null || target === void 0 ? void 0 : target.contains(root.value)) ||\n                (Array.isArray(ignoreAnimations.value) &&\n                    ignoreAnimations.value.includes(event.animationName))) {\n                return;\n            }\n            transformElements.add(target);\n            if (!animationInterval) {\n                const stepAnimation = () => {\n                    animationInterval = requestAnimationFrame(() => {\n                        updateSlideSize();\n                        stepAnimation();\n                    });\n                };\n                stepAnimation();\n            }\n        };\n        const finishAnimation = (event) => {\n            const target = event.target;\n            if (target) {\n                transformElements.delete(target);\n            }\n            if (animationInterval && transformElements.size === 0) {\n                cancelAnimationFrame(animationInterval);\n                updateSlideSize();\n            }\n        };\n        const mounted = ref(false);\n        if (typeof document !== 'undefined') {\n            watchEffect(() => {\n                if (mounted.value && ignoreAnimations.value !== false) {\n                    document.addEventListener('animationstart', setAnimationInterval);\n                    document.addEventListener('animationend', finishAnimation);\n                }\n                else {\n                    document.removeEventListener('animationstart', setAnimationInterval);\n                    document.removeEventListener('animationend', finishAnimation);\n                }\n            });\n        }\n        onMounted(() => {\n            mounted.value = true;\n            updateBreakpointsConfig();\n            initAutoplay();\n            if (root.value) {\n                resizeObserver = new ResizeObserver(handleResize);\n                resizeObserver.observe(root.value);\n            }\n            emit('init');\n        });\n        onBeforeUnmount(() => {\n            mounted.value = false;\n            slideRegistry.cleanup();\n            if (transitionTimer) {\n                clearTimeout(transitionTimer);\n            }\n            if (animationInterval) {\n                cancelAnimationFrame(animationInterval);\n            }\n            if (autoplayTimer) {\n                clearInterval(autoplayTimer);\n            }\n            if (resizeObserver) {\n                resizeObserver.disconnect();\n                resizeObserver = null;\n            }\n            if (typeof document !== 'undefined') {\n                handleBlur();\n            }\n            if (root.value) {\n                root.value.removeEventListener('transitionend', updateSlideSize);\n                root.value.removeEventListener('animationiteration', updateSlideSize);\n            }\n        });\n        /**\n         * Carousel Event listeners\n         */\n        const { isHover, handleMouseEnter, handleMouseLeave } = useHover();\n        const handleArrowKeys = throttle((event) => {\n            if (event.ctrlKey)\n                return;\n            switch (event.key) {\n                case 'ArrowLeft':\n                case 'ArrowUp':\n                    if (isVertical.value === event.key.endsWith('Up')) {\n                        if (isReversed.value) {\n                            next(true);\n                        }\n                        else {\n                            prev(true);\n                        }\n                    }\n                    break;\n                case 'ArrowRight':\n                case 'ArrowDown':\n                    if (isVertical.value === event.key.endsWith('Down')) {\n                        if (isReversed.value) {\n                            prev(true);\n                        }\n                        else {\n                            next(true);\n                        }\n                    }\n                    break;\n            }\n        }, 200);\n        const handleBlur = () => {\n            document.removeEventListener('keydown', handleArrowKeys);\n        };\n        const handleFocus = () => {\n            document.addEventListener('keydown', handleArrowKeys);\n        };\n        /**\n         * Autoplay\n         */\n        function initAutoplay() {\n            if (!config.autoplay || config.autoplay <= 0) {\n                return;\n            }\n            autoplayTimer = setInterval(() => {\n                if (config.pauseAutoplayOnHover && isHover.value) {\n                    return;\n                }\n                next();\n            }, config.autoplay);\n        }\n        function resetAutoplay() {\n            stopAutoplay();\n            initAutoplay();\n        }\n        function stopAutoplay() {\n            if (autoplayTimer) {\n                clearInterval(autoplayTimer);\n                autoplayTimer = null;\n            }\n        }\n        /**\n         * Navigation function\n         */\n        const isSliding = ref(false);\n        const onDrag = ({ deltaX, deltaY, isTouch }) => {\n            var _a, _b, _c, _d;\n            emit('drag', { deltaX, deltaY });\n            const threshold = isTouch\n                ? typeof config.touchDrag === 'object'\n                    ? ((_b = (_a = config.touchDrag) === null || _a === void 0 ? void 0 : _a.threshold) !== null && _b !== void 0 ? _b : DEFAULT_DRAG_THRESHOLD)\n                    : DEFAULT_DRAG_THRESHOLD\n                : typeof config.mouseDrag === 'object'\n                    ? ((_d = (_c = config.mouseDrag) === null || _c === void 0 ? void 0 : _c.threshold) !== null && _d !== void 0 ? _d : DEFAULT_DRAG_THRESHOLD)\n                    : DEFAULT_DRAG_THRESHOLD;\n            const draggedSlides = getDraggedSlidesCount({\n                isVertical: isVertical.value,\n                isReversed: isReversed.value,\n                dragged: { x: deltaX, y: deltaY },\n                effectiveSlideSize: effectiveSlideSize.value,\n                threshold,\n            });\n            // Prevent unnecessary reactivity\n            if (draggedSlides === 0) {\n                return;\n            }\n            activeSlideIndex.value = config.wrapAround\n                ? currentSlideIndex.value + draggedSlides\n                : getNumberInRange({\n                    val: currentSlideIndex.value + draggedSlides,\n                    max: maxSlideIndex.value,\n                    min: minSlideIndex.value,\n                });\n        };\n        const onDragEnd = () => slideTo(activeSlideIndex.value);\n        const { dragged, isDragging, handleDragStart } = useDrag({\n            isSliding,\n            onDrag,\n            onDragEnd,\n        });\n        const onWheel = ({ deltaX, deltaY, isScrollingForward }) => {\n            emit('wheel', { deltaX, deltaY });\n            if (isScrollingForward) {\n                // Scrolling down/right\n                if (isReversed.value) {\n                    prev();\n                }\n                else {\n                    next();\n                }\n            }\n            else {\n                // Scrolling up/left\n                if (isReversed.value) {\n                    next();\n                }\n                else {\n                    prev();\n                }\n            }\n        };\n        const { handleScroll } = useWheel({\n            isVertical,\n            isSliding,\n            config,\n            onWheel,\n        });\n        function next(skipTransition = false) {\n            slideTo(currentSlideIndex.value + config.itemsToScroll, skipTransition);\n        }\n        function prev(skipTransition = false) {\n            slideTo(currentSlideIndex.value - config.itemsToScroll, skipTransition);\n        }\n        function slideTo(slideIndex, skipTransition = false) {\n            if (!skipTransition && isSliding.value) {\n                return;\n            }\n            const targetIndex = (config.wrapAround ? mapNumberToRange : getNumberInRange)({\n                val: slideIndex,\n                max: maxSlideIndex.value,\n                min: minSlideIndex.value,\n            });\n            if (currentSlideIndex.value === targetIndex) {\n                return;\n            }\n            prevSlideIndex.value = currentSlideIndex.value;\n            emit('slide-start', {\n                slidingToIndex: slideIndex,\n                currentSlideIndex: currentSlideIndex.value,\n                prevSlideIndex: prevSlideIndex.value,\n                slidesCount: slidesCount.value,\n            });\n            stopAutoplay();\n            isSliding.value = true;\n            currentSlideIndex.value = slideIndex;\n            if (targetIndex !== slideIndex) {\n                modelWatcher.pause();\n            }\n            emit('update:modelValue', targetIndex);\n            const transitionCallback = () => {\n                if (config.wrapAround && targetIndex !== slideIndex) {\n                    modelWatcher.resume();\n                    currentSlideIndex.value = targetIndex;\n                    emit('loop', {\n                        currentSlideIndex: currentSlideIndex.value,\n                        slidingToIndex: slideIndex,\n                    });\n                }\n                emit('slide-end', {\n                    currentSlideIndex: currentSlideIndex.value,\n                    prevSlideIndex: prevSlideIndex.value,\n                    slidesCount: slidesCount.value,\n                });\n                isSliding.value = false;\n                resetAutoplay();\n            };\n            transitionTimer = setTimeout(transitionCallback, config.transition);\n        }\n        function restartCarousel() {\n            updateBreakpointsConfig();\n            updateSlidesData();\n            updateSlideSize();\n            resetAutoplay();\n        }\n        // Update the carousel on props change\n        watch(() => [fallbackConfig.value, props.breakpoints], () => updateBreakpointsConfig(), { deep: true });\n        watch(() => props.autoplay, () => resetAutoplay());\n        // Handle changing v-model value\n        const modelWatcher = watch(() => props.modelValue, (val) => {\n            if (val === currentSlideIndex.value) {\n                return;\n            }\n            slideTo(Number(val), true);\n        });\n        // Init carousel\n        emit('before-init');\n        const clonedSlidesCount = computed(() => {\n            if (!config.wrapAround) {\n                return { before: 0, after: 0 };\n            }\n            if (isAuto.value) {\n                return { before: slides.length, after: slides.length };\n            }\n            const itemsToShow = Number(config.itemsToShow);\n            const slidesToClone = Math.ceil(itemsToShow + (config.itemsToScroll - 1));\n            const before = slidesToClone - activeSlideIndex.value;\n            const after = slidesToClone - (slidesCount.value - (activeSlideIndex.value + 1));\n            return {\n                before: Math.max(0, before),\n                after: Math.max(0, after),\n            };\n        });\n        const clonedSlidesOffset = computed(() => {\n            if (!clonedSlidesCount.value.before) {\n                return 0;\n            }\n            if (isAuto.value) {\n                return (slidesRect.value\n                    .slice(-1 * clonedSlidesCount.value.before)\n                    .reduce((acc, slide) => acc + slide[dimension.value] + config.gap, 0) * -1);\n            }\n            return clonedSlidesCount.value.before * effectiveSlideSize.value * -1;\n        });\n        const snapAlignOffset = computed(() => {\n            var _a;\n            if (isAuto.value) {\n                const slideIndex = ((currentSlideIndex.value % slides.length) + slides.length) % slides.length;\n                return getSnapAlignOffset({\n                    slideSize: (_a = slidesRect.value[slideIndex]) === null || _a === void 0 ? void 0 : _a[dimension.value],\n                    viewportSize: viewportRect.value[dimension.value],\n                    align: config.snapAlign,\n                });\n            }\n            return getSnapAlignOffset({\n                align: config.snapAlign,\n                itemsToShow: +config.itemsToShow,\n            });\n        });\n        const scrolledOffset = computed(() => {\n            let output = 0;\n            if (isAuto.value) {\n                if (currentSlideIndex.value < 0) {\n                    output =\n                        slidesRect.value\n                            .slice(currentSlideIndex.value)\n                            .reduce((acc, slide) => acc + slide[dimension.value] + config.gap, 0) * -1;\n                }\n                else {\n                    output = slidesRect.value\n                        .slice(0, currentSlideIndex.value)\n                        .reduce((acc, slide) => acc + slide[dimension.value] + config.gap, 0);\n                }\n                output -= snapAlignOffset.value;\n                // remove whitespace\n                if (!config.wrapAround) {\n                    const maxSlidingValue = slidesRect.value.reduce((acc, slide) => acc + slide[dimension.value] + config.gap, 0) -\n                        viewportRect.value[dimension.value] -\n                        config.gap;\n                    output = getNumberInRange({\n                        val: output,\n                        max: maxSlidingValue,\n                        min: 0,\n                    });\n                }\n            }\n            else {\n                let scrolledSlides = currentSlideIndex.value - snapAlignOffset.value;\n                // remove whitespace\n                if (!config.wrapAround) {\n                    scrolledSlides = getNumberInRange({\n                        val: scrolledSlides,\n                        max: slidesCount.value - +config.itemsToShow,\n                        min: 0,\n                    });\n                }\n                output = scrolledSlides * effectiveSlideSize.value;\n            }\n            return output * (isReversed.value ? 1 : -1);\n        });\n        const visibleRange = computed(() => {\n            var _a, _b;\n            if (!isAuto.value) {\n                const base = currentSlideIndex.value - snapAlignOffset.value;\n                if (config.wrapAround) {\n                    return {\n                        min: Math.floor(base),\n                        max: Math.ceil(base + Number(config.itemsToShow) - 1),\n                    };\n                }\n                return {\n                    min: Math.floor(getNumberInRange({\n                        val: base,\n                        max: slidesCount.value - Number(config.itemsToShow),\n                        min: 0,\n                    })),\n                    max: Math.ceil(getNumberInRange({\n                        val: base + Number(config.itemsToShow) - 1,\n                        max: slidesCount.value - 1,\n                        min: 0,\n                    })),\n                };\n            }\n            // Auto width mode\n            let minIndex = 0;\n            {\n                let accumulatedSize = 0;\n                let index = 0 - clonedSlidesCount.value.before;\n                const offset = Math.abs(scrolledOffset.value + clonedSlidesOffset.value);\n                while (accumulatedSize <= offset) {\n                    const normalizedIndex = ((index % slides.length) + slides.length) % slides.length;\n                    accumulatedSize +=\n                        ((_a = slidesRect.value[normalizedIndex]) === null || _a === void 0 ? void 0 : _a[dimension.value]) + config.gap;\n                    index++;\n                }\n                minIndex = index - 1;\n            }\n            let maxIndex = 0;\n            {\n                let index = minIndex;\n                let accumulatedSize = 0;\n                if (index < 0) {\n                    accumulatedSize =\n                        slidesRect.value\n                            .slice(0, index)\n                            .reduce((acc, slide) => acc + slide[dimension.value] + config.gap, 0) -\n                            Math.abs(scrolledOffset.value + clonedSlidesOffset.value);\n                }\n                else {\n                    accumulatedSize =\n                        slidesRect.value\n                            .slice(0, index)\n                            .reduce((acc, slide) => acc + slide[dimension.value] + config.gap, 0) -\n                            Math.abs(scrolledOffset.value);\n                }\n                while (accumulatedSize < viewportRect.value[dimension.value]) {\n                    const normalizedIndex = ((index % slides.length) + slides.length) % slides.length;\n                    accumulatedSize +=\n                        ((_b = slidesRect.value[normalizedIndex]) === null || _b === void 0 ? void 0 : _b[dimension.value]) + config.gap;\n                    index++;\n                }\n                maxIndex = index - 1;\n            }\n            return {\n                min: Math.floor(minIndex),\n                max: Math.ceil(maxIndex),\n            };\n        });\n        const trackTransform = computed(() => {\n            if (config.slideEffect === 'fade') {\n                return undefined;\n            }\n            const translateAxis = isVertical.value ? 'Y' : 'X';\n            // Include user drag interaction offset\n            const dragOffset = isVertical.value ? dragged.y : dragged.x;\n            let totalOffset = scrolledOffset.value + dragOffset;\n            if (!config.wrapAround && config.preventExcessiveDragging) {\n                let maxSlidingValue = 0;\n                if (isAuto.value) {\n                    maxSlidingValue = slidesRect.value.reduce((acc, slide) => acc + slide[dimension.value], 0);\n                }\n                else {\n                    maxSlidingValue =\n                        (slidesCount.value - Number(config.itemsToShow)) * effectiveSlideSize.value;\n                }\n                const min = isReversed.value ? 0 : -1 * maxSlidingValue;\n                const max = isReversed.value ? maxSlidingValue : 0;\n                totalOffset = getNumberInRange({\n                    val: totalOffset,\n                    min,\n                    max,\n                });\n            }\n            return `translate${translateAxis}(${totalOffset}px)`;\n        });\n        const carouselStyle = computed(() => ({\n            '--vc-carousel-height': toCssValue(config.height),\n            '--vc-cloned-offset': toCssValue(clonedSlidesOffset.value),\n            '--vc-slide-gap': toCssValue(config.gap),\n            '--vc-transition-duration': isSliding.value\n                ? toCssValue(config.transition, 'ms')\n                : undefined,\n        }));\n        const nav = { slideTo, next, prev };\n        const provided = reactive({\n            activeSlide: activeSlideIndex,\n            config,\n            currentSlide: currentSlideIndex,\n            isSliding,\n            isVertical,\n            maxSlide: maxSlideIndex,\n            minSlide: minSlideIndex,\n            nav,\n            normalizedDir,\n            slideRegistry,\n            slideSize,\n            slides,\n            slidesCount,\n            viewport,\n            visibleRange,\n        });\n        provide(injectCarousel, provided);\n        const data = reactive({\n            config,\n            currentSlide: currentSlideIndex,\n            maxSlide: maxSlideIndex,\n            middleSlide: middleSlideIndex,\n            minSlide: minSlideIndex,\n            slideSize,\n            slidesCount,\n        });\n        expose(reactive(Object.assign({ data,\n            next,\n            prev,\n            restartCarousel,\n            slideTo,\n            updateBreakpointsConfig,\n            updateSlideSize,\n            updateSlidesData }, toRefs(provided))));\n        return () => {\n            var _a;\n            const slotSlides = slots.default || slots.slides;\n            const outputSlides = (slotSlides === null || slotSlides === void 0 ? void 0 : slotSlides(data)) || [];\n            const { before, after } = clonedSlidesCount.value;\n            const slidesBefore = createCloneSlides({\n                slides,\n                position: 'before',\n                toShow: before,\n            });\n            const slidesAfter = createCloneSlides({\n                slides,\n                position: 'after',\n                toShow: after,\n            });\n            const output = [...slidesBefore, ...outputSlides, ...slidesAfter];\n            if (!config.enabled || !output.length) {\n                return h('section', {\n                    ref: root,\n                    class: ['carousel', 'is-disabled'],\n                }, output);\n            }\n            const addonsElements = ((_a = slots.addons) === null || _a === void 0 ? void 0 : _a.call(slots, data)) || [];\n            const trackEl = h('ol', {\n                class: 'carousel__track',\n                onMousedownCapture: config.mouseDrag ? handleDragStart : null,\n                onTouchstartPassiveCapture: config.touchDrag ? handleDragStart : null,\n                onWheel: config.mouseWheel ? handleScroll : null,\n                style: { transform: trackTransform.value },\n            }, output);\n            const viewPortEl = h('div', { class: 'carousel__viewport', ref: viewport }, trackEl);\n            return h('section', {\n                ref: root,\n                class: [\n                    'carousel',\n                    `is-${normalizedDir.value}`,\n                    `is-effect-${config.slideEffect}`,\n                    {\n                        'is-dragging': isDragging.value,\n                        'is-hover': isHover.value,\n                        'is-sliding': isSliding.value,\n                        'is-vertical': isVertical.value,\n                    },\n                ],\n                dir: normalizedDir.value,\n                style: carouselStyle.value,\n                'aria-label': config.i18n['ariaGallery'],\n                tabindex: '0',\n                onBlur: handleBlur,\n                onFocus: handleFocus,\n                onMouseenter: handleMouseEnter,\n                onMouseleave: handleMouseLeave,\n            }, [viewPortEl, addonsElements, h(ARIA)]);\n        };\n    },\n});\n\nvar IconName;\n(function (IconName) {\n    IconName[\"arrowDown\"] = \"arrowDown\";\n    IconName[\"arrowLeft\"] = \"arrowLeft\";\n    IconName[\"arrowRight\"] = \"arrowRight\";\n    IconName[\"arrowUp\"] = \"arrowUp\";\n})(IconName || (IconName = {}));\n\nconst iconI18n = (name) => `icon${name.charAt(0).toUpperCase() + name.slice(1)}`;\nconst icons = {\n    arrowDown: 'M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z',\n    arrowLeft: 'M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z',\n    arrowRight: 'M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z',\n    arrowUp: 'M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z',\n};\nfunction isIconName(candidate) {\n    return candidate in IconName;\n}\nconst validateIconName = (value) => {\n    return value && isIconName(value);\n};\nconst Icon = defineComponent({\n    props: {\n        name: {\n            type: String,\n            required: true,\n            validator: validateIconName,\n        },\n        title: {\n            type: String,\n            default: (props) => props.name ? DEFAULT_CONFIG.i18n[iconI18n(props.name)] : '',\n        },\n    },\n    setup(props) {\n        const carousel = inject(injectCarousel, null);\n        return () => {\n            const iconName = props.name;\n            if (!iconName || !validateIconName(iconName))\n                return;\n            const path = icons[iconName];\n            const pathEl = h('path', { d: path });\n            const iconTitle = (carousel === null || carousel === void 0 ? void 0 : carousel.config.i18n[iconI18n(iconName)]) || props.title;\n            const titleEl = h('title', iconTitle);\n            return h('svg', {\n                class: 'carousel__icon',\n                viewBox: '0 0 24 24',\n                role: 'img',\n                'aria-label': iconTitle,\n            }, [titleEl, pathEl]);\n        };\n    },\n});\n\nconst Navigation = defineComponent({\n    name: 'CarouselNavigation',\n    inheritAttrs: false,\n    props: {\n        carousel: {\n            type: Object,\n        },\n    },\n    setup(props, { slots, attrs }) {\n        let carousel = inject(injectCarousel, null);\n        const { next: slotNext, prev: slotPrev } = slots;\n        const getPrevIcon = () => {\n            const directionIcons = {\n                btt: 'arrowDown',\n                ltr: 'arrowLeft',\n                rtl: 'arrowRight',\n                ttb: 'arrowUp',\n            };\n            return directionIcons[carousel.normalizedDir];\n        };\n        const getNextIcon = () => {\n            const directionIcons = {\n                btt: 'arrowUp',\n                ltr: 'arrowRight',\n                rtl: 'arrowLeft',\n                ttb: 'arrowDown',\n            };\n            return directionIcons[carousel.normalizedDir];\n        };\n        const prevDisabled = computed(() => !carousel.config.wrapAround && carousel.currentSlide <= carousel.minSlide);\n        const nextDisabled = computed(() => !carousel.config.wrapAround && carousel.currentSlide >= carousel.maxSlide);\n        return () => {\n            if (props.carousel) {\n                carousel = props.carousel;\n            }\n            if (!carousel) {\n                console.warn('[vue3-carousel]: A carousel component must be provided for the navigation component to display');\n                return '';\n            }\n            const { i18n } = carousel.config;\n            const prevButton = h('button', Object.assign(Object.assign({ type: 'button', disabled: prevDisabled.value, 'aria-label': i18n['ariaPreviousSlide'], title: i18n['ariaPreviousSlide'], onClick: carousel.nav.prev }, attrs), { class: [\n                    'carousel__prev',\n                    { 'carousel__prev--disabled': prevDisabled.value },\n                    attrs.class,\n                ] }), (slotPrev === null || slotPrev === void 0 ? void 0 : slotPrev()) || h(Icon, { name: getPrevIcon() }));\n            const nextButton = h('button', Object.assign(Object.assign({ type: 'button', disabled: nextDisabled.value, 'aria-label': i18n['ariaNextSlide'], title: i18n['ariaNextSlide'], onClick: carousel.nav.next }, attrs), { class: [\n                    'carousel__next',\n                    { 'carousel__next--disabled': nextDisabled.value },\n                    attrs.class,\n                ] }), (slotNext === null || slotNext === void 0 ? void 0 : slotNext()) || h(Icon, { name: getNextIcon() }));\n            return [prevButton, nextButton];\n        };\n    },\n});\n\nconst Pagination = defineComponent({\n    name: 'CarouselPagination',\n    props: {\n        disableOnClick: {\n            type: Boolean,\n        },\n        paginateByItemsToShow: {\n            type: Boolean,\n        },\n        carousel: {\n            type: Object,\n        }\n    },\n    setup(props) {\n        let carousel = inject(injectCarousel, null);\n        const itemsToShow = computed(() => carousel.config.itemsToShow);\n        const offset = computed(() => getSnapAlignOffset({\n            align: carousel.config.snapAlign,\n            itemsToShow: itemsToShow.value,\n        }));\n        const isPaginated = computed(() => props.paginateByItemsToShow && itemsToShow.value > 1);\n        const currentPage = computed(() => Math.ceil((carousel.activeSlide - offset.value) / itemsToShow.value));\n        const pageCount = computed(() => Math.ceil(carousel.slidesCount / itemsToShow.value));\n        const isActive = (slide) => mapNumberToRange(isPaginated.value\n            ? {\n                val: currentPage.value,\n                max: pageCount.value - 1,\n                min: 0,\n            }\n            : {\n                val: carousel.activeSlide,\n                max: carousel.maxSlide,\n                min: carousel.minSlide,\n            }) === slide;\n        return () => {\n            var _a, _b;\n            if (props.carousel) {\n                carousel = props.carousel;\n            }\n            if (!carousel) {\n                console.warn('[vue3-carousel]: A carousel component must be provided for the pagination component to display');\n                return '';\n            }\n            const children = [];\n            for (let slide = isPaginated.value ? 0 : carousel.minSlide; slide <= (isPaginated.value ? pageCount.value - 1 : carousel.maxSlide); slide++) {\n                const buttonLabel = i18nFormatter(carousel.config.i18n[isPaginated.value ? 'ariaNavigateToPage' : 'ariaNavigateToSlide'], {\n                    slideNumber: slide + 1,\n                });\n                const active = isActive(slide);\n                const button = h('button', {\n                    type: 'button',\n                    class: {\n                        'carousel__pagination-button': true,\n                        'carousel__pagination-button--active': active,\n                    },\n                    'aria-label': buttonLabel,\n                    'aria-pressed': active,\n                    'aria-controls': (_b = (_a = carousel.slides[slide]) === null || _a === void 0 ? void 0 : _a.exposed) === null || _b === void 0 ? void 0 : _b.id,\n                    title: buttonLabel,\n                    disabled: props.disableOnClick,\n                    onClick: () => carousel.nav.slideTo(isPaginated.value\n                        ? Math.floor(slide * +carousel.config.itemsToShow + offset.value)\n                        : slide),\n                });\n                const item = h('li', { class: 'carousel__pagination-item', key: slide }, button);\n                children.push(item);\n            }\n            return h('ol', { class: 'carousel__pagination' }, children);\n        };\n    },\n});\n\nconst Slide = defineComponent({\n    name: 'CarouselSlide',\n    props: {\n        id: {\n            type: String,\n            default: (props) => (props.isClone ? undefined : useId()),\n        },\n        index: {\n            type: Number,\n            default: undefined,\n        },\n        isClone: {\n            type: Boolean,\n            default: false,\n        },\n    },\n    setup(props, { attrs, slots, expose }) {\n        const carousel = inject(injectCarousel);\n        provide(injectCarousel, undefined); // Don't provide for nested slides\n        if (!carousel) {\n            return () => ''; // Don't render, let vue warn about the missing provide\n        }\n        const currentIndex = ref(props.index);\n        const setIndex = (newIndex) => {\n            currentIndex.value = newIndex;\n        };\n        const instance = getCurrentInstance();\n        const getBoundingRect = () => {\n            const el = instance.vnode.el;\n            return el ? el.getBoundingClientRect() : { width: 0, height: 0 };\n        };\n        expose({\n            id: props.id,\n            setIndex,\n            getBoundingRect,\n        });\n        const isActive = computed(() => currentIndex.value === carousel.activeSlide);\n        const isPrev = computed(() => currentIndex.value === carousel.activeSlide - 1);\n        const isNext = computed(() => currentIndex.value === carousel.activeSlide + 1);\n        const isVisible = computed(() => currentIndex.value >= carousel.visibleRange.min &&\n            currentIndex.value <= carousel.visibleRange.max);\n        const slideStyle = computed(() => {\n            if (carousel.config.itemsToShow === 'auto') {\n                return;\n            }\n            const itemsToShow = carousel.config.itemsToShow;\n            const dimension = carousel.config.gap > 0 && itemsToShow > 1\n                ? `calc(${100 / itemsToShow}% - ${(carousel.config.gap * (itemsToShow - 1)) / itemsToShow}px)`\n                : `${100 / itemsToShow}%`;\n            return carousel.isVertical ? { height: dimension } : { width: dimension };\n        });\n        carousel.slideRegistry.registerSlide(instance, props.index);\n        onUnmounted(() => {\n            carousel.slideRegistry.unregisterSlide(instance);\n        });\n        if (props.isClone) {\n            // Prevent cloned slides from being focusable\n            onMounted(() => {\n                disableChildrenTabbing(instance.vnode);\n            });\n            onUpdated(() => {\n                disableChildrenTabbing(instance.vnode);\n            });\n        }\n        return () => {\n            var _a, _b;\n            if (!carousel.config.enabled) {\n                return (_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots);\n            }\n            return h('li', {\n                style: [attrs.style, Object.assign({}, slideStyle.value)],\n                class: {\n                    carousel__slide: true,\n                    'carousel__slide--clone': props.isClone,\n                    'carousel__slide--visible': isVisible.value,\n                    'carousel__slide--active': isActive.value,\n                    'carousel__slide--prev': isPrev.value,\n                    'carousel__slide--next': isNext.value,\n                    'carousel__slide--sliding': carousel.isSliding,\n                },\n                onFocusin: () => {\n                    // Prevent the viewport being scrolled by the focus\n                    if (carousel.viewport) {\n                        carousel.viewport.scrollLeft = 0;\n                    }\n                    carousel.nav.slideTo(currentIndex.value);\n                },\n                id: props.isClone ? undefined : props.id,\n                'aria-hidden': props.isClone || undefined,\n            }, (_b = slots.default) === null || _b === void 0 ? void 0 : _b.call(slots, {\n                currentIndex: currentIndex.value,\n                isActive: isActive.value,\n                isClone: props.isClone,\n                isPrev: isPrev.value,\n                isNext: isNext.value,\n                isSliding: carousel.isSliding,\n                isVisible: isVisible.value,\n            }));\n        };\n    },\n});\n\nexport { BREAKPOINT_MODE_OPTIONS, Carousel, DEFAULT_CONFIG, DEFAULT_DRAG_THRESHOLD, DEFAULT_MOUSE_WHEEL_THRESHOLD, DIR_MAP, DIR_OPTIONS, I18N_DEFAULT_CONFIG, Icon, NORMALIZED_DIR_OPTIONS, Navigation, Pagination, SLIDE_EFFECTS, SNAP_ALIGN_OPTIONS, Slide, createSlideRegistry, icons, injectCarousel };\n//# sourceMappingURL=carousel.mjs.map\n","import { render } from \"./ProductCarousel.vue?vue&type=template&id=67aced20&scoped=true\"\nimport script from \"./ProductCarousel.vue?vue&type=script&lang=js\"\nexport * from \"./ProductCarousel.vue?vue&type=script&lang=js\"\n\nimport \"./ProductCarousel.vue?vue&type=style&index=0&id=67aced20&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-67aced20\"]])\n\nexport default __exports__","import { render } from \"./Home.vue?vue&type=template&id=235290e6\"\nimport script from \"./Home.vue?vue&type=script&lang=js\"\nexport * from \"./Home.vue?vue&type=script&lang=js\"\n\nimport \"./Home.vue?vue&type=style&index=0&id=235290e6&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","_createVNode","_component_Loading","active","$data","isLoading","_createElementVNode","_hoisted_1","_hoisted_2","_component_router_link","to","_cache","type","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_mergeProps","ref","_toHandlers","$options","cartIconEvents","_hoisted_9","style","cartQty","_createElementBlock","_hoisted_10","_toDisplayString","showCartPreview","_hoisted_11","_Fragment","_renderList","cartItems","item","key","src","product","imageUrl","alt","_hoisted_13","_hoisted_14","title","_hoisted_15","qty","onClick","_withModifiers","$event","removeCartItem","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_ctx","$router","push","_hoisted_23","_hoisted_24","_hoisted_25","_component_TitleList","_hoisted_26","_hoisted_27","_hoisted_28","products","length","_createBlock","_component_ProductCarousel","$refs","cartIcon","onAddToCart","addCart","onCardClick","getProduct","limitedPosts","post","index","href","getFirstLink","target","rel","postInfo","error","name","data","files","posts","computed","this","slice","mounted","loadAllJsonFiles","methods","fetchPromises","map","file","fetch","then","res","ok","Error","json","allData","Promise","all","forEach","dataArray","err","message","alert","links","contentInfo","link","imageLinks","image","filtered","filter","includes","__exports__","role","_component_Carousel","currentSlide","transition","breakpoints","addons","_withCtx","_component_Navigation","prev","next","_component_Pagination","$props","_component_Slide","$emit","description","$setup","formatCurrency","price","disabled","status","loadingItem","BREAKPOINT_MODE_OPTIONS","DIR_MAP","DIR_OPTIONS","I18N_DEFAULT_CONFIG","ariaGallery","ariaNavigateToPage","ariaNavigateToSlide","ariaNextSlide","ariaPreviousSlide","iconArrowDown","iconArrowLeft","iconArrowRight","iconArrowUp","itemXofY","SLIDE_EFFECTS","Object","values","SNAP_ALIGN_OPTIONS","DEFAULT_MOUSE_WHEEL_THRESHOLD","DEFAULT_DRAG_THRESHOLD","DEFAULT_CONFIG","autoplay","breakpointMode","undefined","dir","enabled","gap","height","i18n","ignoreAnimations","itemsToScroll","itemsToShow","modelValue","mouseDrag","mouseWheel","pauseAutoplayOnHover","preventExcessiveDragging","slideEffect","snapAlign","touchDrag","wrapAround","injectCarousel","Symbol","createSlideRegistry","emit","slides","updateSlideIndexes","startIndex","slide","offset","_a","exposed","setIndex","cleanup","splice","getSlides","registerSlide","props","isClone","slideIndex","unregisterSlide","indexOf","calculateAverage","numbers","sum","reduce","acc","num","createCloneSlides","position","toShow","clones","isBefore","start","end","i","vnode","clone","el","FOCUSABLE_ELEMENTS_SELECTOR","disableChildrenTabbing","node","Element","elements","querySelectorAll","HTMLElement","hasAttribute","getAttribute","setAttribute","except","obj","keys","k","getDraggedSlidesCount","params","isVertical","isReversed","dragged","effectiveSlideSize","threshold","dragValue","y","x","dragRatio","absRatio","Math","abs","slidesDragged","sign","round","getNumberInRange","val","max","min","isNaN","getTransformValues","transform","window","getComputedStyle","split","v","parseFloat","getScaleMultipliers","transformElements","widthMultiplier","heightMultiplier","transformArr","getSnapAlignOffsetByItemsToShow","align","getSnapAlignOffsetBySlideAndViewport","slideSize","viewportSize","getSnapAlignOffset","i18nFormatter","string","entries","value","replace","String","mapNumberToRange","mod","throttle","fn","ms","isThrottled","frameId","throttled","args","step","requestAnimationFrame","time","elapsed","cancel","cancelAnimationFrame","toCssValue","unit","toString","ARIA","setup","carousel","h","config","slidesCount","useDrag","options","isTouch","startPosition","isDragging","isSliding","sliding","handleDragStart","event","targetTagName","tagName","touches","preventDefault","button","clientX","clientY","moveEvent","endEvent","document","addEventListener","handleDrag","passive","handleDragEnd","onDragStart","call","currentX","currentY","onDrag","deltaX","deltaY","draggedDistance","e","stopPropagation","once","capture","onDragEnd","removeEventListener","useHover","isHover","handleMouseEnter","handleMouseLeave","useWheel","vertical","handleScroll","_b","primaryDelta","effectiveDelta","isScrollingForward","onWheel","carouselProps","default","Number","validator","clamp","Boolean","normalizedDir","console","warn","Array","mouseScrollThreshold","Carousel","emits","slots","expose","slideRegistry","root","viewport","fallbackConfig","assign","currentSlideIndex","activeSlideIndex","prevSlideIndex","middleSlideIndex","ceil","maxSlideIndex","minSlideIndex","autoplayTimer","transitionTimer","resizeObserver","isAuto","dimension","updateBreakpointsConfig","widthSource","getBoundingClientRect","width","innerWidth","breakpointsArray","sort","a","b","newConfig","some","breakpoint","Infinity","handleResize","updateSlidesData","updateSlideSize","Set","slidesRect","updateSlidesRectSize","rect","getBoundingRect","viewportRect","updateViewportRectSize","scaleMultipliers","totalGap","isArray","animationInterval","setAnimationInterval","contains","animationName","add","stepAnimation","finishAnimation","delete","size","initAutoplay","ResizeObserver","observe","clearTimeout","clearInterval","disconnect","handleBlur","handleArrowKeys","ctrlKey","endsWith","handleFocus","setInterval","resetAutoplay","stopAutoplay","_c","_d","draggedSlides","slideTo","skipTransition","targetIndex","slidingToIndex","modelWatcher","pause","transitionCallback","resume","setTimeout","restartCarousel","deep","clonedSlidesCount","before","after","slidesToClone","clonedSlidesOffset","snapAlignOffset","scrolledOffset","output","maxSlidingValue","scrolledSlides","visibleRange","base","floor","minIndex","accumulatedSize","normalizedIndex","maxIndex","trackTransform","translateAxis","dragOffset","totalOffset","carouselStyle","nav","provided","activeSlide","maxSlide","minSlide","middleSlide","slotSlides","outputSlides","slidesBefore","slidesAfter","addonsElements","trackEl","onMousedownCapture","onTouchstartPassiveCapture","viewPortEl","tabindex","onBlur","onFocus","onMouseenter","onMouseleave","IconName","iconI18n","charAt","toUpperCase","icons","arrowDown","arrowLeft","arrowRight","arrowUp","isIconName","candidate","validateIconName","Icon","required","iconName","path","pathEl","d","iconTitle","titleEl","viewBox","Navigation","inheritAttrs","attrs","slotNext","slotPrev","getPrevIcon","directionIcons","btt","ltr","rtl","ttb","getNextIcon","prevDisabled","nextDisabled","prevButton","nextButton","Pagination","disableOnClick","paginateByItemsToShow","isPaginated","currentPage","pageCount","isActive","children","buttonLabel","slideNumber","Slide","currentIndex","newIndex","instance","isPrev","isNext","isVisible","slideStyle","carousel__slide","onFocusin","scrollLeft","components","cartIconRef","cart","Intl","NumberFormat","currency","minimumFractionDigits","format","animateToCart","productCard","currentTarget","closest","productImg","querySelector","imgClone","cloneNode","imgRect","cartRect","left","top","zIndex","body","appendChild","opacity","remove","getCart","url","$http","get","carts","catch","product_id","existing","find","Date","now","p","handleOutsideClick","total","mouseenter","mouseleave","TitleList","ProductCarousel","getProducts","response","emitter","on","beforeUnmount","off","render"],"sourceRoot":""}