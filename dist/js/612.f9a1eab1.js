"use strict";(self["webpackChunknewproject2"]=self["webpackChunknewproject2"]||[]).push([[612],{114:function(e,t,a){e.exports=a.p+"img/basketballpart1.cb5c4864.png"},612:function(e,t,a){a.r(t),a.d(t,{default:function(){return Pe}});var i=a(641),n=a(33),l=a(751);const o={class:"navbar navbar-expand-lg bg-dark fixed-top","data-bs-theme":"dark"},r={class:"container-fluid"},s={class:"collapse navbar-collapse",id:"navbarText"},u={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item"},c={class:"nav-item"},v={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},p={key:0,class:"cart-preview position-absolute bg-white text-dark border rounded shadow",style:{top:"100%",right:"0","z-index":"2000",width:"300px","max-height":"350px","overflow-y":"auto"}},h=["src"],g={class:"flex-grow-1"},m={class:"fw-bold"},f={class:"text-dark small"},b=["onClick"],w={class:"p-2 text-center"},y={class:"flex-grow-1 mt-5"},x={class:"container py-4"},k={class:"row align-items-center"},S={class:"col-md-6"},C={class:"col-md-6 text-end"},E=["src"],L={class:"col-md-6"},A={class:"col-md-6"};function _(e,t,_,T,W,M){const I=(0,i.g2)("Loading"),N=(0,i.g2)("router-link"),D=(0,i.g2)("TitleList"),j=(0,i.g2)("ProductCarousel");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bF)(I,{active:W.isLoading},null,8,["active"]),(0,i.Lk)("nav",o,[(0,i.Lk)("div",r,[(0,i.bF)(N,{class:"navbar-brand",to:"/"},{default:(0,i.k6)(()=>t[2]||(t[2]=[(0,i.eW)("籃球瘋",-1)])),_:1,__:[2]}),t[7]||(t[7]=(0,i.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,i.Lk)("div",s,[(0,i.Lk)("ul",u,[(0,i.Lk)("li",d,[(0,i.bF)(N,{class:"nav-link",to:"/about"},{default:(0,i.k6)(()=>t[3]||(t[3]=[(0,i.eW)("關於",-1)])),_:1,__:[3]})]),(0,i.Lk)("li",c,[(0,i.bF)(N,{class:"nav-link",to:"/frontproducts"},{default:(0,i.k6)(()=>t[4]||(t[4]=[(0,i.eW)("產品",-1)])),_:1,__:[4]})])]),(0,i.Lk)("span",(0,i.v6)({ref:"cartIcon",style:{position:"relative"}},(0,i.Tb)(M.cartIconEvents,!0)),[(0,i.bF)(N,{class:"navbar-text position-relative",to:"/user/cart",style:{"margin-right":"0.5cm"}},{default:(0,i.k6)(()=>[t[5]||(t[5]=(0,i.eW)(" 購物車 ",-1)),M.cartQty>0?((0,i.uX)(),(0,i.CE)("span",v,(0,n.v_)(M.cartQty),1)):(0,i.Q3)("",!0)]),_:1,__:[5]}),W.showCartPreview&&M.cartQty>0?((0,i.uX)(),(0,i.CE)("div",p,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(M.cartItems,e=>((0,i.uX)(),(0,i.CE)("div",{key:e.id,class:"d-flex align-items-center p-2 border-bottom"},[(0,i.Lk)("img",{src:e.product.imageUrl,alt:"商品圖片",class:"me-2",style:{width:"50px",height:"50px","object-fit":"cover"}},null,8,h),(0,i.Lk)("div",g,[(0,i.Lk)("div",m,(0,n.v_)(e.product.title),1),(0,i.Lk)("div",f,"數量: "+(0,n.v_)(e.qty),1)]),(0,i.Lk)("button",{class:"btn btn-sm btn-outline-danger ms-2",onClick:(0,l.D$)(t=>M.removeCartItem(e.id),["stop","prevent"])}," × ",8,b)]))),128)),(0,i.Lk)("div",w,[(0,i.bF)(N,{to:"/user/cart",class:"btn btn-sm btn-dark"},{default:(0,i.k6)(()=>t[6]||(t[6]=[(0,i.eW)("前往購物車",-1)])),_:1,__:[6]})])])):(0,i.Q3)("",!0)],16)])])]),(0,i.Lk)("main",y,[(0,i.Lk)("div",x,[(0,i.Lk)("div",k,[(0,i.Lk)("div",S,[t[8]||(t[8]=(0,i.Lk)("h1",null,"歡迎來到籃球瘋",-1)),t[9]||(t[9]=(0,i.Lk)("p",null,"這裡是最強的籃球訓練平台！",-1)),(0,i.Lk)("button",{class:"btn",style:{"background-color":"#212121",color:"white"},onClick:t[0]||(t[0]=t=>e.$router.push("/frontproducts"))}," 立即選購 ")]),(0,i.Lk)("div",C,[(0,i.Lk)("img",{src:a(114),class:"img-fluid",alt:"籃球首頁圖",style:{"padding-top":"12px"}},null,8,E)]),(0,i.Lk)("div",L,[(0,i.bF)(D)]),(0,i.Lk)("div",A,[t[10]||(t[10]=(0,i.Lk)("h1",{class:"text-center"},"熱賣產品",-1)),W.products.length?((0,i.uX)(),(0,i.Wv)(j,{key:0,products:W.products,onAddToCart:t[1]||(t[1]=(e,t)=>M.addCart(e,t)),onCardClick:M.getProduct},null,8,["products","onCardClick"])):(0,i.Q3)("",!0)])])])]),t[11]||(t[11]=(0,i.Lk)("footer",{class:"footer-fixed bg-dark text-white text-center py-3"},[(0,i.Lk)("p",null,"© 2025 籃球瘋. All rights reserved.")],-1))],64)}const T={class:"title-list-container"},W=["href"],M={key:0,style:{color:"red"}};function I(e,t,a,l,o,r){return(0,i.uX)(),(0,i.CE)("div",T,[t[0]||(t[0]=(0,i.Lk)("h2",null,"最新消息",-1)),(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o.posts,(e,t)=>((0,i.uX)(),(0,i.CE)("li",{key:t},[(0,i.Lk)("a",{href:r.getFirstLink(e),target:"_blank",rel:"noopener noreferrer"},(0,n.v_)(e.postInfo.title),9,W)]))),128))]),o.error?((0,i.uX)(),(0,i.CE)("div",M,"錯誤："+(0,n.v_)(o.error),1)):(0,i.Q3)("",!0)])}var N={name:"TitleList",data(){return{files:["nba_6503.json","nba_6504.json"],posts:[],error:null}},mounted(){this.loadAllJsonFiles()},methods:{async loadAllJsonFiles(){try{const e=this.files.map(e=>fetch(e).then(t=>{if(!t.ok)throw new Error(`${e} 載入失敗`);return t.json()})),t=await Promise.all(e);t.forEach(e=>{e.forEach(e=>{e.postInfo?.title&&"unknown"!==e.postInfo.title&&this.posts.push(e)})})}catch(e){this.error=e.message,alert("載入失敗："+e.message)}},getFirstLink(e){const t=e.contentInfo?.link||[],a=e.contentInfo?.image||[],i=t.filter(e=>!a.includes(e));return i[0]||t[0]||"#"}}},D=a(262);const j=(0,D.A)(N,[["render",I],["__scopeId","data-v-51cd99a7"]]);var O=j;const R={class:"carousel-wrapper mx-auto"},$=["onClick"],F=["src","alt"],B={class:"card-body text-center"},P={class:"card-title"},X={class:"card-text"},K={class:"text-danger fw-bold"},z=["onClick"];function V(e,t,a,o,r,s){const u=(0,i.g2)("Slide"),d=(0,i.g2)("Navigation"),c=(0,i.g2)("Pagination"),v=(0,i.g2)("Carousel");return(0,i.uX)(),(0,i.CE)("div",R,[(0,i.bF)(v,{"items-to-show":1,"wrap-around":!0,"mouse-drag":!0,"show-arrows":!0,"pause-autoplay-on-hover":!0,transition:500},{addons:(0,i.k6)(()=>[(0,i.bF)(d),(0,i.bF)(c)]),default:(0,i.k6)(()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.products,t=>((0,i.uX)(),(0,i.Wv)(u,{key:t.id},{default:(0,i.k6)(()=>[(0,i.Lk)("div",{class:(0,n.C4)(["card mx-auto product-card",{active:r.activeCardId===t.id}]),style:{"max-width":"500px",cursor:"pointer"},onClick:e=>s.handleCardClick(t.id)},[(0,i.Lk)("img",{src:t.imageUrl,alt:t.title,class:"card-img-top"},null,8,F),(0,i.Lk)("div",B,[(0,i.Lk)("h5",P,(0,n.v_)(t.title),1),(0,i.Lk)("p",X,(0,n.v_)(t.description),1),(0,i.Lk)("p",K,(0,n.v_)(s.formatCurrency(t.price)),1),(0,i.Lk)("button",{class:"btn btn-dark",onClick:(0,l.D$)(a=>e.$emit("add-to-cart",t.id,a),["stop"])}," 加入購物車 ",8,z)])],10,$)]),_:2},1024))),128))]),_:1})])}var Y=a(953);
/**
 * Vue 3 Carousel 0.16.0
 * (c) 2025
 * @license MIT
 */
const Q=["viewport","carousel"],U={"bottom-to-top":"btt","left-to-right":"ltr","right-to-left":"rtl","top-to-bottom":"ttb"},q=["ltr","left-to-right","rtl","right-to-left","ttb","top-to-bottom","btt","bottom-to-top"],G={ariaGallery:"Gallery",ariaNavigateToPage:"Navigate to page {slideNumber}",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",iconArrowDown:"Arrow pointing downwards",iconArrowLeft:"Arrow pointing to the left",iconArrowRight:"Arrow pointing to the right",iconArrowUp:"Arrow pointing upwards",itemXofY:"Item {currentSlide} of {slidesCount}"},H=(Object.values(U),["slide","fade"]),J=["center","start","end","center-even","center-odd"],Z=10,ee=.08,te={autoplay:0,breakpointMode:Q[0],breakpoints:void 0,dir:q[0],enabled:!0,gap:0,height:"auto",i18n:G,ignoreAnimations:!1,itemsToScroll:1,itemsToShow:1,modelValue:0,mouseDrag:!0,mouseWheel:!1,pauseAutoplayOnHover:!1,preventExcessiveDragging:!1,slideEffect:H[0],snapAlign:J[0],touchDrag:!0,transition:300,wrapAround:!1},ae=Symbol("carousel"),ie=e=>{const t=(0,Y.Gc)([]),a=e=>{void 0!==e?t.slice(e).forEach((t,a)=>{var i;null===(i=t.exposed)||void 0===i||i.setIndex(e+a)}):t.forEach((e,t)=>{var a;null===(a=e.exposed)||void 0===a||a.setIndex(t)})};return{cleanup:()=>{t.splice(0,t.length)},getSlides:()=>t,registerSlide:(i,n)=>{if(!i)return;if(i.props.isClone)return;const l=null!==n&&void 0!==n?n:t.length;t.splice(l,0,i),a(l),e("slide-registered",{slide:i,index:l})},unregisterSlide:i=>{const n=t.indexOf(i);-1!==n&&(e("slide-unregistered",{slide:i,index:n}),t.splice(n,1),a(n))}}};function ne(e){if(0===e.length)return 0;const t=e.reduce((e,t)=>e+t,0);return t/e.length}function le({slides:e,position:t,toShow:a}){const n=[],l="before"===t,o=l?-a:0,r=l?0:a;if(e.length<=0)return n;for(let s=o;s<r;s++){const a=l?s:s+e.length,o={index:a,isClone:!0,id:void 0,key:`clone-${t}-${s}`},r=e[(s%e.length+e.length)%e.length].vnode,u=(0,i.E3)(r,o);u.el=null,n.push(u)}return n}const oe='a[href], button, input, textarea, select, details, [tabindex]:not([tabindex="-1"])';function re(e){if(!e.el||!(e.el instanceof Element))return;const t=e.el.querySelectorAll(oe);for(const a of t)a instanceof HTMLElement&&!a.hasAttribute("disabled")&&"true"!==a.getAttribute("aria-hidden")&&a.setAttribute("tabindex","-1")}function se(e,t){return Object.keys(e).filter(e=>!t.includes(e)).reduce((t,a)=>(t[a]=e[a],t),{})}function ue(e){const{isVertical:t,isReversed:a,dragged:i,effectiveSlideSize:n,threshold:l}=e,o=t?i.y:i.x;if(0===o)return 0;const r=o/n,s=Math.abs(r);if(s<l)return 0;const u=s<1?Math.sign(r):Math.round(r);return a?u:-u}function de({val:e,max:t,min:a}){return t<a?e:Math.min(Math.max(e,isNaN(a)?e:a),isNaN(t)?e:t)}function ce(e){const{transform:t}=window.getComputedStyle(e);return t.split(/[(,)]/).slice(1,-1).map(e=>parseFloat(e))}function ve(e){let t=1,a=1;return e.forEach(e=>{const i=ce(e);6===i.length&&(t/=i[0],a/=i[3])}),{widthMultiplier:t,heightMultiplier:a}}function pe(e,t){switch(e){case"start":return 0;case"center":case"center-odd":return(t-1)/2;case"center-even":return(t-2)/2;case"end":return t-1;default:return 0}}function he(e,t,a){switch(e){case"start":return 0;case"center":case"center-odd":return(a-t)/2;case"center-even":return a/2-t;case"end":return a-t;default:return 0}}function ge({slideSize:e,viewportSize:t,align:a,itemsToShow:i}){return void 0!==i?pe(a,i):void 0!==e&&void 0!==t?he(a,e,t):0}function me(e="",t={}){return Object.entries(t).reduce((e,[t,a])=>e.replace(`{${t}}`,String(a)),e)}function fe({val:e,max:t,min:a=0}){const i=t-a+1;return((e-a)%i+i)%i+a}function be(e,t=0){let a=!1,i=0,n=null;function l(...l){if(a)return;a=!0;const o=()=>{n=requestAnimationFrame(n=>{const r=n-i;r>t?(i=n,e(...l),a=!1):o()})};o()}return l.cancel=()=>{n&&(cancelAnimationFrame(n),n=null,a=!1)},l}function we(e,t="px"){if(null!==e&&void 0!==e&&""!==e)return"number"===typeof e||parseFloat(e).toString()===e?`${e}${t}`:e}const ye=(0,i.pM)({name:"CarouselAria",setup(){const e=(0,i.WQ)(ae);return e?()=>(0,i.h)("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},me(e.config.i18n["itemXofY"],{currentSlide:e.currentSlide+1,slidesCount:e.slidesCount})):()=>""}});function xe(e){let t=!1;const a={x:0,y:0},n=(0,Y.Kh)({x:0,y:0}),l=(0,Y.KR)(!1),{isSliding:o}=e,r=(0,i.EW)(()=>"boolean"===typeof o?o:o.value),s=i=>{var n;const l=i.target.tagName;if(["INPUT","TEXTAREA","SELECT"].includes(l)||r.value)return;if(t="touchstart"===i.type,t&&i.touches.length>1)return;if(!t&&(i.preventDefault(),0!==i.button))return;a.x=t?i.touches[0].clientX:i.clientX,a.y=t?i.touches[0].clientY:i.clientY;const o=t?"touchmove":"mousemove",s=t?"touchend":"mouseup";document.addEventListener(o,u,{passive:!1}),document.addEventListener(s,d,{passive:!0}),null===(n=e.onDragStart)||void 0===n||n.call(e)},u=be(i=>{var o;if(t&&i.touches.length>1)return;l.value=!0;const r=t?i.touches[0].clientX:i.clientX,s=t?i.touches[0].clientY:i.clientY;n.x=r-a.x,n.y=s-a.y,null===(o=e.onDrag)||void 0===o||o.call(e,{deltaX:n.x,deltaY:n.y,isTouch:t})}),d=()=>{var a;u.cancel();const i=Math.abs(n.x)+Math.abs(n.y);!t&&i>10&&window.addEventListener("click",e=>{e.preventDefault(),e.stopPropagation()},{once:!0,capture:!0}),null===(a=e.onDragEnd)||void 0===a||a.call(e),n.x=0,n.y=0,l.value=!1;const o=t?"touchmove":"mousemove",r=t?"touchend":"mouseup";document.removeEventListener(o,u),document.removeEventListener(r,d)};return{dragged:n,isDragging:l,handleDragStart:s}}function ke(){const e=(0,Y.KR)(!1),t=()=>{e.value=!0},a=()=>{e.value=!1};return{isHover:e,handleMouseEnter:t,handleMouseLeave:a}}function Se(e){const{isVertical:t,isSliding:a,config:n}=e,l=(0,i.EW)(()=>"boolean"===typeof t?t:t.value),o=(0,i.EW)(()=>"boolean"===typeof a?a:a.value),r=t=>{var a,i;if(t.preventDefault(),!n.mouseWheel||o.value)return;const r="object"===typeof n.mouseWheel&&null!==(a=n.mouseWheel.threshold)&&void 0!==a?a:Z,s=Math.abs(t.deltaY)>r?t.deltaY:0,u=Math.abs(t.deltaX)>r?t.deltaX:0;if(0===s&&0===u)return;const d=l.value?s:u,c=0!==d?d:l.value?u:s,v=c>0;null===(i=e.onWheel)||void 0===i||i.call(e,{deltaX:u,deltaY:s,isScrollingForward:v})};return{handleScroll:r}}const Ce={autoplay:{default:te.autoplay,type:Number},breakpoints:{default:te.breakpoints,type:Object},breakpointMode:{default:te.breakpointMode,validator(e){return Q.includes(e)}},clamp:{type:Boolean},dir:{type:String,default:te.dir,validator(e,t){if(!q.includes(e))return!1;const a=e in U?U[e]:e;return!["ttb","btt"].includes(a)||t.height&&"auto"!==t.height||console.warn(`[vue3-carousel]: The dir "${e}" is not supported with height "auto".`),!0}},enabled:{default:te.enabled,type:Boolean},gap:{default:te.gap,type:Number},height:{default:te.height,type:[Number,String]},i18n:{default:te.i18n,type:Object},ignoreAnimations:{default:!1,type:[Array,Boolean,String]},itemsToScroll:{default:te.itemsToScroll,type:Number},itemsToShow:{default:te.itemsToShow,type:[Number,String]},modelValue:{default:void 0,type:Number},mouseDrag:{default:te.mouseDrag,type:[Boolean,Object]},mouseWheel:{default:te.mouseWheel,type:[Boolean,Object]},mouseScrollThreshold:{default:te.mouseScrollThreshold,type:Number},pauseAutoplayOnHover:{default:te.pauseAutoplayOnHover,type:Boolean},preventExcessiveDragging:{default:!1,type:Boolean,validator(e,t){return e&&t.wrapAround&&console.warn('[vue3-carousel]: "preventExcessiveDragging" cannot be used with wrapAround. The setting will be ignored.'),!0}},slideEffect:{type:String,default:te.slideEffect,validator(e){return H.includes(e)}},snapAlign:{default:te.snapAlign,validator(e){return J.includes(e)}},touchDrag:{default:te.touchDrag,type:[Boolean,Object]},transition:{default:te.transition,type:Number},wrapAround:{default:te.wrapAround,type:Boolean}},Ee=(0,i.pM)({name:"VueCarousel",props:Ce,emits:["before-init","drag","init","loop","slide-end","slide-registered","slide-start","slide-unregistered","update:modelValue","wheel"],setup(e,{slots:t,emit:a,expose:n}){var l;const o=ie(a),r=o.getSlides(),s=(0,i.EW)(()=>r.length),u=(0,Y.KR)(null),d=(0,Y.KR)(null),c=(0,Y.KR)(0),v=(0,i.EW)(()=>Object.assign(Object.assign(Object.assign({},te),se(e,["breakpoints","modelValue"])),{i18n:Object.assign(Object.assign({},te.i18n),e.i18n)})),p=(0,Y.Gc)(Object.assign({},v.value)),h=(0,Y.KR)(null!==(l=e.modelValue)&&void 0!==l?l:0),g=(0,Y.KR)(h.value);(0,i.wB)(h,e=>g.value=e);const m=(0,Y.KR)(0),f=(0,i.EW)(()=>Math.ceil((s.value-1)/2)),b=(0,i.EW)(()=>s.value-1),w=(0,i.EW)(()=>0);let y=null,x=null,k=null;const S=(0,i.EW)(()=>c.value+p.gap),C=(0,i.EW)(()=>{const e=p.dir||"ltr";return e in U?U[e]:e}),E=(0,i.EW)(()=>["rtl","btt"].includes(C.value)),L=(0,i.EW)(()=>["ttb","btt"].includes(C.value)),A=(0,i.EW)(()=>"auto"===p.itemsToShow),_=(0,i.EW)(()=>L.value?"height":"width");function T(){var t;if(!X.value)return;const a=("carousel"===v.value.breakpointMode?null===(t=u.value)||void 0===t?void 0:t.getBoundingClientRect().width:"undefined"!==typeof window?window.innerWidth:0)||0,i=Object.keys(e.breakpoints||{}).map(e=>Number(e)).sort((e,t)=>+t-+e),n={};i.some(t=>a>=t&&(Object.assign(n,e.breakpoints[t]),n.i18n&&Object.assign(n.i18n,v.value.i18n,e.breakpoints[t].i18n),!0)),Object.assign(p,v.value,n),A.value||(p.itemsToShow=de({val:Number(p.itemsToShow),max:e.clamp?s.value:1/0,min:1}))}const W=be(()=>{T(),R(),O()}),M=(0,Y.Gc)(new Set),I=(0,Y.KR)([]);function N({widthMultiplier:e,heightMultiplier:t}){I.value=r.map(a=>{var i;const n=null===(i=a.exposed)||void 0===i?void 0:i.getBoundingRect();return{width:n.width*e,height:n.height*t}})}const D=(0,Y.KR)({width:0,height:0});function j({widthMultiplier:e,heightMultiplier:t}){var a;const i=(null===(a=d.value)||void 0===a?void 0:a.getBoundingClientRect())||{width:0,height:0};D.value={width:i.width*e,height:i.height*t}}function O(){if(!d.value)return;const e=ve(M);if(j(e),N(e),A.value)c.value=ne(I.value.map(e=>e[_.value]));else{const e=Number(p.itemsToShow),t=(e-1)*p.gap;c.value=(D.value[_.value]-t)/e}}function R(){!p.wrapAround&&s.value>0&&(h.value=de({val:h.value,max:b.value,min:w.value}))}const $=(0,i.EW)(()=>"string"===typeof e.ignoreAnimations?e.ignoreAnimations.split(","):Array.isArray(e.ignoreAnimations)?e.ignoreAnimations:!e.ignoreAnimations&&[]);let F;(0,i.nT)(()=>R()),(0,i.nT)(()=>{O()});const B=e=>{const t=e.target;if(!(!(null===t||void 0===t?void 0:t.contains(u.value))||Array.isArray($.value)&&$.value.includes(e.animationName))&&(M.add(t),!F)){const e=()=>{F=requestAnimationFrame(()=>{O(),e()})};e()}},P=e=>{const t=e.target;t&&M.delete(t),F&&0===M.size&&(cancelAnimationFrame(F),O())},X=(0,Y.KR)(!1);"undefined"!==typeof document&&(0,i.nT)(()=>{X.value&&!1!==$.value?(document.addEventListener("animationstart",B),document.addEventListener("animationend",P)):(document.removeEventListener("animationstart",B),document.removeEventListener("animationend",P))}),(0,i.sV)(()=>{X.value=!0,T(),H(),u.value&&(k=new ResizeObserver(W),k.observe(u.value)),a("init")}),(0,i.xo)(()=>{X.value=!1,o.cleanup(),x&&clearTimeout(x),F&&cancelAnimationFrame(F),y&&clearInterval(y),k&&(k.disconnect(),k=null),"undefined"!==typeof document&&q(),u.value&&(u.value.removeEventListener("transitionend",O),u.value.removeEventListener("animationiteration",O))});const{isHover:K,handleMouseEnter:z,handleMouseLeave:V}=ke(),Q=be(e=>{if(!e.ctrlKey)switch(e.key){case"ArrowLeft":case"ArrowUp":L.value===e.key.endsWith("Up")&&(E.value?Le(!0):Ae(!0));break;case"ArrowRight":case"ArrowDown":L.value===e.key.endsWith("Down")&&(E.value?Ae(!0):Le(!0));break}},200),q=()=>{document.removeEventListener("keydown",Q)},G=()=>{document.addEventListener("keydown",Q)};function H(){!p.autoplay||p.autoplay<=0||(y=setInterval(()=>{p.pauseAutoplayOnHover&&K.value||Le()},p.autoplay))}function J(){Z(),H()}function Z(){y&&(clearInterval(y),y=null)}const oe=(0,Y.KR)(!1),re=({deltaX:e,deltaY:t,isTouch:i})=>{var n,l,o,r;a("drag",{deltaX:e,deltaY:t});const s=i?"object"===typeof p.touchDrag&&null!==(l=null===(n=p.touchDrag)||void 0===n?void 0:n.threshold)&&void 0!==l?l:ee:"object"===typeof p.mouseDrag&&null!==(r=null===(o=p.mouseDrag)||void 0===o?void 0:o.threshold)&&void 0!==r?r:ee,u=ue({isVertical:L.value,isReversed:E.value,dragged:{x:e,y:t},effectiveSlideSize:S.value,threshold:s});0!==u&&(g.value=p.wrapAround?h.value+u:de({val:h.value+u,max:b.value,min:w.value}))},ce=()=>_e(g.value),{dragged:pe,isDragging:he,handleDragStart:me}=xe({isSliding:oe,onDrag:re,onDragEnd:ce}),Ce=({deltaX:e,deltaY:t,isScrollingForward:i})=>{a("wheel",{deltaX:e,deltaY:t}),i?E.value?Ae():Le():E.value?Le():Ae()},{handleScroll:Ee}=Se({isVertical:L,isSliding:oe,config:p,onWheel:Ce});function Le(e=!1){_e(h.value+p.itemsToScroll,e)}function Ae(e=!1){_e(h.value-p.itemsToScroll,e)}function _e(e,t=!1){if(!t&&oe.value)return;const i=(p.wrapAround?fe:de)({val:e,max:b.value,min:w.value});if(h.value===i)return;m.value=h.value,a("slide-start",{slidingToIndex:e,currentSlideIndex:h.value,prevSlideIndex:m.value,slidesCount:s.value}),Z(),oe.value=!0,h.value=e,i!==e&&We.pause(),a("update:modelValue",i);const n=()=>{p.wrapAround&&i!==e&&(We.resume(),h.value=i,a("loop",{currentSlideIndex:h.value,slidingToIndex:e})),a("slide-end",{currentSlideIndex:h.value,prevSlideIndex:m.value,slidesCount:s.value}),oe.value=!1,J()};x=setTimeout(n,p.transition)}function Te(){T(),R(),O(),J()}(0,i.wB)(()=>[v.value,e.breakpoints],()=>T(),{deep:!0}),(0,i.wB)(()=>e.autoplay,()=>J());const We=(0,i.wB)(()=>e.modelValue,e=>{e!==h.value&&_e(Number(e),!0)});a("before-init");const Me=(0,i.EW)(()=>{if(!p.wrapAround)return{before:0,after:0};if(A.value)return{before:r.length,after:r.length};const e=Number(p.itemsToShow),t=Math.ceil(e+(p.itemsToScroll-1)),a=t-g.value,i=t-(s.value-(g.value+1));return{before:Math.max(0,a),after:Math.max(0,i)}}),Ie=(0,i.EW)(()=>Me.value.before?A.value?-1*I.value.slice(-1*Me.value.before).reduce((e,t)=>e+t[_.value]+p.gap,0):Me.value.before*S.value*-1:0),Ne=(0,i.EW)(()=>{var e;if(A.value){const t=(h.value%r.length+r.length)%r.length;return ge({slideSize:null===(e=I.value[t])||void 0===e?void 0:e[_.value],viewportSize:D.value[_.value],align:p.snapAlign})}return ge({align:p.snapAlign,itemsToShow:+p.itemsToShow})}),De=(0,i.EW)(()=>{let e=0;if(A.value){if(e=h.value<0?-1*I.value.slice(h.value).reduce((e,t)=>e+t[_.value]+p.gap,0):I.value.slice(0,h.value).reduce((e,t)=>e+t[_.value]+p.gap,0),e-=Ne.value,!p.wrapAround){const t=I.value.reduce((e,t)=>e+t[_.value]+p.gap,0)-D.value[_.value]-p.gap;e=de({val:e,max:t,min:0})}}else{let t=h.value-Ne.value;p.wrapAround||(t=de({val:t,max:s.value-+p.itemsToShow,min:0})),e=t*S.value}return e*(E.value?1:-1)}),je=(0,i.EW)(()=>{var e,t;if(!A.value){const e=h.value-Ne.value;return p.wrapAround?{min:Math.floor(e),max:Math.ceil(e+Number(p.itemsToShow)-1)}:{min:Math.floor(de({val:e,max:s.value-Number(p.itemsToShow),min:0})),max:Math.ceil(de({val:e+Number(p.itemsToShow)-1,max:s.value-1,min:0}))}}let a=0;{let t=0,i=0-Me.value.before;const n=Math.abs(De.value+Ie.value);while(t<=n){const a=(i%r.length+r.length)%r.length;t+=(null===(e=I.value[a])||void 0===e?void 0:e[_.value])+p.gap,i++}a=i-1}let i=0;{let e=a,n=0;n=e<0?I.value.slice(0,e).reduce((e,t)=>e+t[_.value]+p.gap,0)-Math.abs(De.value+Ie.value):I.value.slice(0,e).reduce((e,t)=>e+t[_.value]+p.gap,0)-Math.abs(De.value);while(n<D.value[_.value]){const a=(e%r.length+r.length)%r.length;n+=(null===(t=I.value[a])||void 0===t?void 0:t[_.value])+p.gap,e++}i=e-1}return{min:Math.floor(a),max:Math.ceil(i)}}),Oe=(0,i.EW)(()=>{if("fade"===p.slideEffect)return;const e=L.value?"Y":"X",t=L.value?pe.y:pe.x;let a=De.value+t;if(!p.wrapAround&&p.preventExcessiveDragging){let e=0;e=A.value?I.value.reduce((e,t)=>e+t[_.value],0):(s.value-Number(p.itemsToShow))*S.value;const t=E.value?0:-1*e,i=E.value?e:0;a=de({val:a,min:t,max:i})}return`translate${e}(${a}px)`}),Re=(0,i.EW)(()=>({"--vc-carousel-height":we(p.height),"--vc-cloned-offset":we(Ie.value),"--vc-slide-gap":we(p.gap),"--vc-transition-duration":oe.value?we(p.transition,"ms"):void 0})),$e={slideTo:_e,next:Le,prev:Ae},Fe=(0,Y.Kh)({activeSlide:g,config:p,currentSlide:h,isSliding:oe,isVertical:L,maxSlide:b,minSlide:w,nav:$e,normalizedDir:C,slideRegistry:o,slideSize:c,slides:r,slidesCount:s,viewport:d,visibleRange:je});(0,i.Gt)(ae,Fe);const Be=(0,Y.Kh)({config:p,currentSlide:h,maxSlide:b,middleSlide:f,minSlide:w,slideSize:c,slidesCount:s});return n((0,Y.Kh)(Object.assign({data:Be,next:Le,prev:Ae,restartCarousel:Te,slideTo:_e,updateBreakpointsConfig:T,updateSlideSize:O,updateSlidesData:R},(0,Y.QW)(Fe)))),()=>{var e;const a=t.default||t.slides,n=(null===a||void 0===a?void 0:a(Be))||[],{before:l,after:o}=Me.value,s=le({slides:r,position:"before",toShow:l}),c=le({slides:r,position:"after",toShow:o}),v=[...s,...n,...c];if(!p.enabled||!v.length)return(0,i.h)("section",{ref:u,class:["carousel","is-disabled"]},v);const h=(null===(e=t.addons)||void 0===e?void 0:e.call(t,Be))||[],g=(0,i.h)("ol",{class:"carousel__track",onMousedownCapture:p.mouseDrag?me:null,onTouchstartPassiveCapture:p.touchDrag?me:null,onWheel:p.mouseWheel?Ee:null,style:{transform:Oe.value}},v),m=(0,i.h)("div",{class:"carousel__viewport",ref:d},g);return(0,i.h)("section",{ref:u,class:["carousel",`is-${C.value}`,`is-effect-${p.slideEffect}`,{"is-dragging":he.value,"is-hover":K.value,"is-sliding":oe.value,"is-vertical":L.value}],dir:C.value,style:Re.value,"aria-label":p.i18n["ariaGallery"],tabindex:"0",onBlur:q,onFocus:G,onMouseenter:z,onMouseleave:V},[m,h,(0,i.h)(ye)])}}});var Le;(function(e){e["arrowDown"]="arrowDown",e["arrowLeft"]="arrowLeft",e["arrowRight"]="arrowRight",e["arrowUp"]="arrowUp"})(Le||(Le={}));const Ae=e=>`icon${e.charAt(0).toUpperCase()+e.slice(1)}`,_e={arrowDown:"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z",arrowLeft:"M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z",arrowRight:"M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z",arrowUp:"M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"};function Te(e){return e in Le}const We=e=>e&&Te(e),Me=(0,i.pM)({props:{name:{type:String,required:!0,validator:We},title:{type:String,default:e=>e.name?te.i18n[Ae(e.name)]:""}},setup(e){const t=(0,i.WQ)(ae,null);return()=>{const a=e.name;if(!a||!We(a))return;const n=_e[a],l=(0,i.h)("path",{d:n}),o=(null===t||void 0===t?void 0:t.config.i18n[Ae(a)])||e.title,r=(0,i.h)("title",o);return(0,i.h)("svg",{class:"carousel__icon",viewBox:"0 0 24 24",role:"img","aria-label":o},[r,l])}}}),Ie=(0,i.pM)({name:"CarouselNavigation",inheritAttrs:!1,props:{carousel:{type:Object}},setup(e,{slots:t,attrs:a}){let n=(0,i.WQ)(ae,null);const{next:l,prev:o}=t,r=()=>{const e={btt:"arrowDown",ltr:"arrowLeft",rtl:"arrowRight",ttb:"arrowUp"};return e[n.normalizedDir]},s=()=>{const e={btt:"arrowUp",ltr:"arrowRight",rtl:"arrowLeft",ttb:"arrowDown"};return e[n.normalizedDir]},u=(0,i.EW)(()=>!n.config.wrapAround&&n.currentSlide<=n.minSlide),d=(0,i.EW)(()=>!n.config.wrapAround&&n.currentSlide>=n.maxSlide);return()=>{if(e.carousel&&(n=e.carousel),!n)return console.warn("[vue3-carousel]: A carousel component must be provided for the navigation component to display"),"";const{i18n:t}=n.config,c=(0,i.h)("button",Object.assign(Object.assign({type:"button",disabled:u.value,"aria-label":t["ariaPreviousSlide"],title:t["ariaPreviousSlide"],onClick:n.nav.prev},a),{class:["carousel__prev",{"carousel__prev--disabled":u.value},a.class]}),(null===o||void 0===o?void 0:o())||(0,i.h)(Me,{name:r()})),v=(0,i.h)("button",Object.assign(Object.assign({type:"button",disabled:d.value,"aria-label":t["ariaNextSlide"],title:t["ariaNextSlide"],onClick:n.nav.next},a),{class:["carousel__next",{"carousel__next--disabled":d.value},a.class]}),(null===l||void 0===l?void 0:l())||(0,i.h)(Me,{name:s()}));return[c,v]}}}),Ne=(0,i.pM)({name:"CarouselPagination",props:{disableOnClick:{type:Boolean},paginateByItemsToShow:{type:Boolean},carousel:{type:Object}},setup(e){let t=(0,i.WQ)(ae,null);const a=(0,i.EW)(()=>t.config.itemsToShow),n=(0,i.EW)(()=>ge({align:t.config.snapAlign,itemsToShow:a.value})),l=(0,i.EW)(()=>e.paginateByItemsToShow&&a.value>1),o=(0,i.EW)(()=>Math.ceil((t.activeSlide-n.value)/a.value)),r=(0,i.EW)(()=>Math.ceil(t.slidesCount/a.value)),s=e=>fe(l.value?{val:o.value,max:r.value-1,min:0}:{val:t.activeSlide,max:t.maxSlide,min:t.minSlide})===e;return()=>{var a,o;if(e.carousel&&(t=e.carousel),!t)return console.warn("[vue3-carousel]: A carousel component must be provided for the pagination component to display"),"";const u=[];for(let d=l.value?0:t.minSlide;d<=(l.value?r.value-1:t.maxSlide);d++){const r=me(t.config.i18n[l.value?"ariaNavigateToPage":"ariaNavigateToSlide"],{slideNumber:d+1}),c=s(d),v=(0,i.h)("button",{type:"button",class:{"carousel__pagination-button":!0,"carousel__pagination-button--active":c},"aria-label":r,"aria-pressed":c,"aria-controls":null===(o=null===(a=t.slides[d])||void 0===a?void 0:a.exposed)||void 0===o?void 0:o.id,title:r,disabled:e.disableOnClick,onClick:()=>t.nav.slideTo(l.value?Math.floor(d*+t.config.itemsToShow+n.value):d)}),p=(0,i.h)("li",{class:"carousel__pagination-item",key:d},v);u.push(p)}return(0,i.h)("ol",{class:"carousel__pagination"},u)}}}),De=(0,i.pM)({name:"CarouselSlide",props:{id:{type:String,default:e=>e.isClone?void 0:(0,i.Bi)()},index:{type:Number,default:void 0},isClone:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:a,expose:n}){const l=(0,i.WQ)(ae);if((0,i.Gt)(ae,void 0),!l)return()=>"";const o=(0,Y.KR)(e.index),r=e=>{o.value=e},s=(0,i.nI)(),u=()=>{const e=s.vnode.el;return e?e.getBoundingClientRect():{width:0,height:0}};n({id:e.id,setIndex:r,getBoundingRect:u});const d=(0,i.EW)(()=>o.value===l.activeSlide),c=(0,i.EW)(()=>o.value===l.activeSlide-1),v=(0,i.EW)(()=>o.value===l.activeSlide+1),p=(0,i.EW)(()=>o.value>=l.visibleRange.min&&o.value<=l.visibleRange.max),h=(0,i.EW)(()=>{if("auto"===l.config.itemsToShow)return;const e=l.config.itemsToShow,t=l.config.gap>0&&e>1?`calc(${100/e}% - ${l.config.gap*(e-1)/e}px)`:100/e+"%";return l.isVertical?{height:t}:{width:t}});return l.slideRegistry.registerSlide(s,e.index),(0,i.hi)(()=>{l.slideRegistry.unregisterSlide(s)}),e.isClone&&((0,i.sV)(()=>{re(s.vnode)}),(0,i.$u)(()=>{re(s.vnode)})),()=>{var n,r;return l.config.enabled?(0,i.h)("li",{style:[t.style,Object.assign({},h.value)],class:{carousel__slide:!0,"carousel__slide--clone":e.isClone,"carousel__slide--visible":p.value,"carousel__slide--active":d.value,"carousel__slide--prev":c.value,"carousel__slide--next":v.value,"carousel__slide--sliding":l.isSliding},onFocusin:()=>{l.viewport&&(l.viewport.scrollLeft=0),l.nav.slideTo(o.value)},id:e.isClone?void 0:e.id,"aria-hidden":e.isClone||void 0},null===(r=a.default)||void 0===r?void 0:r.call(a,{currentIndex:o.value,isActive:d.value,isClone:e.isClone,isPrev:c.value,isNext:v.value,isSliding:l.isSliding,isVisible:p.value})):null===(n=a.default)||void 0===n?void 0:n.call(a)}}});var je={name:"ProductCarousel",data(){return{activeCardId:null}},components:{Carousel:Ee,Slide:De,Pagination:Ne,Navigation:Ie},props:{products:{type:Array,required:!0}},methods:{handleCardClick(e){this.activeCardId=e,setTimeout(()=>{this.$emit("card-click",e),this.activeCardId=null},1e3)},formatCurrency(e){const t=Number(e)||0;return`NT$ ${t.toLocaleString()}`}}};const Oe=(0,D.A)(je,[["render",V],["__scopeId","data-v-30998fa4"]]);var Re=Oe,$e=a(600),Fe={data(){return{products:[],isLoading:!1,cart:[],status:{loadingItem:""},showCartPreview:!1,isMobile:!1}},computed:{cartQty(){return this.cart.reduce((e,t)=>e+t.qty,0)},cartItems(){return this.cart},cartIconEvents(){return this.isMobile?{click:this.toggleCartPreview}:{mouseenter:()=>{this.showCartPreview=!0},mouseleave:()=>{this.showCartPreview=!1}}}},components:{TitleList:O,ProductCarousel:Re},methods:{getProducts(){const e="https://vue3-course-api.hexschool.io/api/lienjackson/products/all";this.isLoading=!0,this.$http.get(e).then(e=>{this.products=e.data.products,this.isLoading=!1})},getProduct(e){this.$router.push(`/user/product/${e}`)},animateToCart(e){const t=e.target.closest(".card"),a=t?.querySelector(".card-img-top"),i=this.$refs.cartIcon;if(!a||!i)return void console.warn("動畫失敗：無法找到圖片或購物車圖示");const n=a.cloneNode(!0),l=a.getBoundingClientRect(),o=i.getBoundingClientRect();n.style.position="fixed",n.style.left=`${l.left}px`,n.style.top=`${l.top}px`,n.style.width=`${l.width}px`,n.style.height=`${l.height}px`,n.style.zIndex=1e3,n.style.transition="all 0.8s ease-in-out",document.body.appendChild(n),requestAnimationFrame(()=>{n.style.left=`${o.left}px`,n.style.top=`${o.top}px`,n.style.width="0px",n.style.height="0px",n.style.opacity="0.5"}),n.addEventListener("transitionend",()=>{n.remove()})},addCart(e,t){const a="https://vue3-course-api.hexschool.io/api/lienjackson/cart";this.status.loadingItem=e;const i={product_id:e,qty:1};this.animateToCart(t),this.$http.post(a,{data:i}).then(()=>{this.status.loadingItem="",this.getCart()}).catch(()=>{this.status.loadingItem="",alert("加入購物車失敗，請稍後再試")})},getCart(){const e="https://vue3-course-api.hexschool.io/api/lienjackson/cart";this.isLoading=!0,this.$http.get(e).then(e=>{e.data&&e.data.data&&Array.isArray(e.data.data.carts)?this.cart=e.data.data.carts:this.cart=[],this.isLoading=!1}).catch(()=>{this.cart=[],this.isLoading=!1})},removeCartItem(e){const t=`https://vue3-course-api.hexschool.io/api/lienjackson/cart/${e}`;this.$http.delete(t).then(()=>{this.cart=this.cart.filter(t=>t.id!==e)}).catch(()=>{alert("刪除商品失敗，請稍後再試")})},toggleCartPreview(){this.showCartPreview=!this.showCartPreview},handleOutsideClick(e){const t=this.$refs.cartIcon;t&&!t.contains(e.target)&&(this.showCartPreview=!1)}},mounted(){this.isMobile=window.innerWidth<=768,document.addEventListener("click",this.handleOutsideClick),$e.A.on("update-cart",this.getCart),this.getProducts(),this.getCart()},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick),$e.A.off("update-cart",this.getCart)}};const Be=(0,D.A)(Fe,[["render",_]]);var Pe=Be}}]);
//# sourceMappingURL=612.f9a1eab1.js.map