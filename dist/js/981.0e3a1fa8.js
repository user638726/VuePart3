"use strict";(self["webpackChunknewproject2"]=self["webpackChunknewproject2"]||[]).push([[981],{159:function(t,e,a){t.exports=a.p+"img/ben-hershey-5nk3wSFUWZc-unsplash.5335175b.jpg"},967:function(t,e,a){t.exports=a.p+"img/richard-bagan-SmQ2Cku3alc-unsplash.ea83d377.jpg"},981:function(t,e,a){a.r(e),a.d(e,{default:function(){return E}});var s=a(641),i=a(33),r=a(751);const c={class:"navbar navbar-expand-lg bg-dark fixed-top","data-bs-theme":"dark"},o={class:"container-fluid"},l={class:"collapse navbar-collapse",id:"navbarText"},n={class:"navbar-nav me-auto mb-2 mb-lg-0"},d={class:"nav-item"},h={class:"nav-item"},p={key:0,class:"position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger"},u={key:0,class:"cart-preview position-absolute bg-white text-dark border rounded shadow",style:{top:"100%",right:"0","z-index":"2000",width:"300px","max-height":"350px","overflow-y":"auto"}},g=["src"],v={class:"flex-grow-1"},b={class:"fw-bold"},k={class:"text-dark small"},m=["onClick"],x={class:"p-2 text-center"},f={class:"flex-grow-1 mt-5 pb-5"},w={class:"card bg-dark text-black",id:"basketball1"},y=["src"],C={class:"card bg-dark text-black",id:"basketball2"},L=["src"];function _(t,e,_,$,I,F){const P=(0,s.g2)("Loading"),E=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.bF)(P,{active:I.isLoading},null,8,["active"]),(0,s.Lk)("nav",c,[(0,s.Lk)("div",o,[(0,s.bF)(E,{class:"navbar-brand",to:"/"},{default:(0,s.k6)(()=>e[0]||(e[0]=[(0,s.eW)("籃球瘋",-1)])),_:1,__:[0]}),e[5]||(e[5]=(0,s.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarText","aria-controls":"navbarText","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,s.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,s.Lk)("div",l,[(0,s.Lk)("ul",n,[(0,s.Lk)("li",d,[(0,s.bF)(E,{class:"nav-link",to:"/about"},{default:(0,s.k6)(()=>e[1]||(e[1]=[(0,s.eW)("關於",-1)])),_:1,__:[1]})]),(0,s.Lk)("li",h,[(0,s.bF)(E,{class:"nav-link",to:"/frontproducts"},{default:(0,s.k6)(()=>e[2]||(e[2]=[(0,s.eW)("產品",-1)])),_:1,__:[2]})])]),(0,s.Lk)("span",(0,s.v6)({ref:"cartIcon",style:{position:"relative"}},(0,s.Tb)(F.cartIconEvents,!0)),[(0,s.bF)(E,{class:"navbar-text position-relative",to:"/user/cart",style:{"margin-right":"0.5cm"}},{default:(0,s.k6)(()=>[e[3]||(e[3]=(0,s.eW)(" 購物車 ",-1)),F.cartQty>0?((0,s.uX)(),(0,s.CE)("span",p,(0,i.v_)(F.cartQty),1)):(0,s.Q3)("",!0)]),_:1,__:[3]}),I.showCartPreview&&F.cartQty>0?((0,s.uX)(),(0,s.CE)("div",u,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(F.cartItems,t=>((0,s.uX)(),(0,s.CE)("div",{key:t.id,class:"d-flex align-items-center p-2 border-bottom"},[(0,s.Lk)("img",{src:t.product.imageUrl,alt:"商品圖片",class:"me-2",style:{width:"50px",height:"50px","object-fit":"cover"}},null,8,g),(0,s.Lk)("div",v,[(0,s.Lk)("div",b,(0,i.v_)(t.product.title),1),(0,s.Lk)("div",k,"數量: "+(0,i.v_)(t.qty),1)]),(0,s.Lk)("button",{class:"btn btn-sm btn-outline-danger ms-2",onClick:(0,r.D$)(e=>F.removeCartItem(t.id),["stop","prevent"])}," × ",8,m)]))),128)),(0,s.Lk)("div",x,[(0,s.bF)(E,{to:"/user/cart",class:"btn btn-sm btn-dark"},{default:(0,s.k6)(()=>e[4]||(e[4]=[(0,s.eW)("前往購物車",-1)])),_:1,__:[4]})])])):(0,s.Q3)("",!0)],16)])])]),(0,s.Lk)("main",f,[(0,s.Lk)("div",w,[(0,s.Lk)("img",{src:a(967),class:"card-img",alt:"籃球圖片"},null,8,y),e[6]||(e[6]=(0,s.Fv)('<div class="card-img-overlay"><h5 class="card-title">關於籃球瘋</h5><p class="card-text">「籃球瘋」不只是名詞，是一種生活態度。</p><p class="card-text">我們相信籃球能連結人與人、城市與夢想。</p><p class="card-text">從街頭到球場，從素人到職業，</p><p class="card-text">我們支持每一位為夢想努力的球員。</p><p class="card-text">歡迎加入我們，一起為籃球而瘋</p></div>',1))]),(0,s.Lk)("div",C,[(0,s.Lk)("img",{src:a(159),class:"card-img",alt:"籃球理念圖"},null,8,L),e[7]||(e[7]=(0,s.Fv)('<div class="card-img-overlay"><h5 class="card-title">籃球瘋介紹</h5><p class="card-text"> 我們相信籃球是一種語言，無需翻譯，卻能跨越文化與年齡。 </p><p class="card-text"> 無論你是初學者還是老手，在這裡都能找到屬於自己的位置。 </p><p class="card-text"> 我們致力於打造一個熱血、自由、且共融的籃球文化圈。 </p></div>',1))])]),e[8]||(e[8]=(0,s.Lk)("footer",{class:"footer-fixed bg-dark text-white text-center py-3"},[(0,s.Lk)("p",null,"© 2025 籃球瘋. All rights reserved.")],-1))],64)}var $=a(600),I={data(){return{products:[],isLoading:!1,cart:[],status:{loadingItem:""},showCartPreview:!1,isMobile:!1}},computed:{cartQty(){return this.cart.reduce((t,e)=>t+e.qty,0)},cartItems(){return this.cart},cartIconEvents(){return this.isMobile?{click:this.toggleCartPreview}:{mouseenter:()=>{this.showCartPreview=!0},mouseleave:()=>{this.showCartPreview=!1}}}},methods:{getProducts(){const t="https://vue3-course-api.hexschool.io/api/lienjackson/products/all";this.isLoading=!0,this.$http.get(t).then(t=>{this.products=t.data.products,this.isLoading=!1})},getProduct(t){this.$router.push(`/user/product/${t}`)},animateToCart(t){const e=t.target.closest(".card"),a=e?.querySelector(".card-img-top"),s=this.$refs.cartIcon;if(!a||!s)return void console.warn("動畫失敗：無法找到圖片或購物車圖示");const i=a.cloneNode(!0),r=a.getBoundingClientRect(),c=s.getBoundingClientRect();i.style.position="fixed",i.style.left=`${r.left}px`,i.style.top=`${r.top}px`,i.style.width=`${r.width}px`,i.style.height=`${r.height}px`,i.style.zIndex=1e3,i.style.transition="all 0.8s ease-in-out",document.body.appendChild(i),requestAnimationFrame(()=>{i.style.left=`${c.left}px`,i.style.top=`${c.top}px`,i.style.width="0px",i.style.height="0px",i.style.opacity="0.5"}),i.addEventListener("transitionend",()=>{i.remove()})},addCart(t,e){const a="https://vue3-course-api.hexschool.io/api/lienjackson/cart";this.status.loadingItem=t;const s={product_id:t,qty:1};this.animateToCart(e),this.$http.post(a,{data:s}).then(()=>{this.status.loadingItem="",this.getCart()}).catch(()=>{this.status.loadingItem="",alert("加入購物車失敗，請稍後再試")})},getCart(){const t="https://vue3-course-api.hexschool.io/api/lienjackson/cart";this.isLoading=!0,this.$http.get(t).then(t=>{t.data&&t.data.data&&Array.isArray(t.data.data.carts)?this.cart=t.data.data.carts:this.cart=[],this.isLoading=!1}).catch(()=>{this.cart=[],this.isLoading=!1})},removeCartItem(t){const e=`https://vue3-course-api.hexschool.io/api/lienjackson/cart/${t}`;this.$http.delete(e).then(()=>{this.cart=this.cart.filter(e=>e.id!==t)}).catch(()=>{alert("刪除商品失敗，請稍後再試")})},toggleCartPreview(){this.showCartPreview=!this.showCartPreview},handleOutsideClick(t){const e=this.$refs.cartIcon;e&&!e.contains(t.target)&&(this.showCartPreview=!1)}},mounted(){this.isMobile=window.innerWidth<=768,document.addEventListener("click",this.handleOutsideClick),$.A.on("update-cart",this.getCart),this.getProducts(),this.getCart()},beforeUnmount(){document.removeEventListener("click",this.handleOutsideClick),$.A.off("update-cart",this.getCart)}},F=a(262);const P=(0,F.A)(I,[["render",_]]);var E=P}}]);
//# sourceMappingURL=981.0e3a1fa8.js.map